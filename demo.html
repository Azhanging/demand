<!DOCTYPE html>
<html>

	<head>
		<meta charset="UTF-8">
		<title></title>
		<meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no" />
	</head>

	<body>
		<script src="./dist/js/demand.js" type="text/javascript" charset="utf-8"></script>
		<script type="text/javascript">
			demand.config({
				baseUrl: '/module',
				alias: {
					'as': './asas',
					'@asas': '/asdasd'
				},
				paths: {
					app0: './m0',
					app: './m1',
					app2: './m2/m3/m4/../../../m2',
					app3: './m3',
					//					app4: './m6'	//error
				}
			});

			demand(() => {
				console.log('------');
				demand('m1')();
				console.log('------');
			});

			//这里的入口必须为上面paths定义的入口
			demand(['app0', 'app', './m3', 'app4'], (m0, app, m3) => {
				m0();
				app();
				m3();
			});

			setTimeout(() => {
				demand(['app0', 'app', './m3'], function(m0, app, m3) {
					console.log('------');
					m0();
					console.log('------');
				});
			}, 1000);

			//多次定义config
			setTimeout(() => {
				demand.loadModule({
					md1: './load-module/md1',
					jq:'http://libs.baidu.com/jquery/2.0.0/jquery.min.js'
				});

				demand(['md1','jq'], function(md1) {
					md1();
				});
			}, 3000);
		</script>
	</body>

</html>