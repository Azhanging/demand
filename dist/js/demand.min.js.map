{"version":3,"sources":["webpack:///js/demand.min.js","webpack:///webpack/bootstrap a43f5a8bbca08be5143e?82ab","webpack:///./src/demand/fn.js?8f94","webpack:///./src/demand/compatibility.js?3a8f","webpack:///./src/demand/demand.js?f1fb","webpack:///./src/demand/queue.js?c83d","webpack:///./src/demand/set.js?f5cf","webpack:///./src/index.js?9552"],"names":["modules","__webpack_require__","moduleId","installedModules","exports","module","i","l","call","m","c","value","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","n","__esModule","object","property","prototype","hasOwnProperty","p","s","_classCallCheck","instance","Constructor","TypeError","_createClass","defineProperties","target","props","length","descriptor","writable","key","protoProps","staticProps","Fn","this","array","Array","obj","fn","string","num","isNaN","cb","len","isArr","context","args","isFn","apply","default","_interopRequireDefault","_fn","_fn2","indexOf","val","index","map","mapArr","push","filter","item","demand","dep","_this","each","_set","hasModule","findM","findModule","createScript","use","isStr","origin","location","protocol","host","config","opts","baseUrl","alias","isObj","setAlias","setPaths","paths","setModuleQueue","pathModule","idModule","urlModule","lastLoadedModule","define","id","Queue","queue","shift","depManage","depData","buildModuleDep","cbDeps","_this2","deps","demandDep","depExport","isDemand","_export_","aliasPath","path","ALIAS_PATH","test","_this3","loadModules","resPath","resolvePath","urlModules","pathModules","pathConfig","url","hasCreateScript","isCreateScript","_this4","script","document","createElement","async","src","resolveJsExt","onload","setModule","next","error","getElementsByTagName","appendChild","lastLoader","type","runCreateScript","unshift","resetLastLoadedModule","_this5","splitResPath","split","pop","join","undefined","_queue","_queue2","_createScript","_demand","_demand2","_compatibility","global","factory","window","version"],"mappings":"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","file":"js/demand.min.js","sourcesContent":["/*!\n * \n * \t\t\tdemand.js v1.0.0\n * \t\t\t(c) 2016-2017 Blue\n * \t\t\tReleased under the MIT License.\n * \t\t\thttps://github.com/azhanging/demand\n * \t\t\ttime:Wed Sep 06 2017 22:16:54 GMT+0800 (中国标准时间)\n * \t\t\n */\n/******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// identity function for calling harmony imports with the correct context\n/******/ \t__webpack_require__.i = function(value) { return value; };\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, {\n/******/ \t\t\t\tconfigurable: false,\n/******/ \t\t\t\tenumerable: true,\n/******/ \t\t\t\tget: getter\n/******/ \t\t\t});\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"/dist\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 5);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n//常用方法\nvar Fn = function () {\n    function Fn() {\n        _classCallCheck(this, Fn);\n    }\n\n    _createClass(Fn, [{\n        key: 'isArr',\n        value: function isArr(array) {\n            return array instanceof Array;\n        }\n    }, {\n        key: 'isObj',\n        value: function isObj(obj) {\n            return obj instanceof Object && !(obj instanceof Array) && obj !== null;\n        }\n    }, {\n        key: 'isFn',\n        value: function isFn(fn) {\n            return typeof fn === 'function';\n        }\n    }, {\n        key: 'isStr',\n        value: function isStr(string) {\n            return typeof string === 'string';\n        }\n    }, {\n        key: 'isNum',\n        value: function isNum(num) {\n            return typeof num === 'number' || !isNaN(num);\n        }\n    }, {\n        key: 'each',\n        value: function each(obj, cb) {\n            //遍历\n            var i = 0,\n                len = obj.length;\n            if (this.isArr(obj)) {\n                for (; i < len; i++) {\n                    cb(obj[i], i);\n                }\n            } else {\n                for (i in obj) {\n                    if (obj.hasOwnProperty(i)) cb(obj[i], i);\n                }\n            }\n        }\n    }, {\n        key: 'cb',\n        value: function cb(_cb, context, args) {\n            //回调\n            args = args ? args : [];\n            this.isFn(_cb) ? _cb.apply(context, args) : null;\n        }\n    }]);\n\n    return Fn;\n}();\n\nexports.default = Fn;\n\n/***/ }),\n/* 1 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar _fn = __webpack_require__(0);\n\nvar _fn2 = _interopRequireDefault(_fn);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar fn = new _fn2.default();\n\n//兼容性IE8\n(function () {\n\n    //兼容IE8中 的indexOf\n    if (!fn.isFn(Array.prototype.indexOf)) {\n        Array.prototype.indexOf = function (val) {\n            var index = 0,\n                len = this.length;\n            for (; index < len; index++) {\n                if (this[index] === val) return index;\n            }\n            return -1;\n        };\n    }\n\n    //map\n    if (!fn.isFn(Array.prototype.map)) {\n        Array.prototype.map = function (fn) {\n            var mapArr = [],\n                i = 0,\n                len = this.length;\n            for (; i < len; i++) {\n                mapArr.push(fn(this[i], i));\n            }\n            return mapArr;\n        };\n    }\n\n    //filter\n    if (!fn.isFn(Array.prototype.filter)) {\n        Array.prototype.filter = function (fn) {\n            var mapArr = [],\n                i = 0,\n                len = this.length;\n            for (; i < len; i++) {\n                var item = this[i];\n                if (fn(item, i)) mapArr.push(item);\n            }\n            return mapArr;\n        };\n    }\n})();\n\n/***/ }),\n/* 2 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\nexports.default = demand;\n\nvar _fn = __webpack_require__(0);\n\nvar _fn2 = _interopRequireDefault(_fn);\n\nvar _set = __webpack_require__(4);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar fn = new _fn2.default();\n\nfunction demand(dep, cb) {\n\tvar _this = demand,\n\t    module = _this.module;\n\t//运行依赖\n\tif (fn.isArr(dep)) {\n\t\tfn.each(dep, function (name, index) {\n\t\t\tif (!_set.hasModule.call(_this, name)) return;\n\t\t\tvar findM = _set.findModule.call(_this, name);\n\t\t\tfn.cb(findM.createScript, _this);\n\t\t});\n\n\t\t//存储回调，等所有的模块加载完毕后调用\n\t\tmodule.use.push({\n\t\t\tcb: cb,\n\t\t\tdep: dep\n\t\t});\n\t} else if (fn.isStr(dep)) {\n\t\t//获取模块\n\t\treturn _set.findModule.call(_this, dep)['_export_'];\n\t}\n}\n\n//获取根路径\ndemand.origin = function () {\n\treturn location.origin || location.protocol + '//' + location.host;\n}();\n\n//配置\ndemand.config = function (opts) {\n\t//设置源路径\n\tthis.baseUrl = opts.baseUrl ? opts.baseUrl : this.origin;\n\t//配置别名\n\tthis.alias = fn.isObj(opts.alias) ? (0, _set.setAlias)(opts.alias) : {};\n\t//设置paths\n\t_set.setPaths.call(this, opts.paths);\n\t//设置queue的回调\n\t_set.setModuleQueue.call(this);\n};\n\n//模块存储\ndemand.module = {\n\tpathModule: {},\n\tidModule: {},\n\turlModule: {},\n\tuse: [],\n\tlastLoadedModule: {}\n};\n\n//加载模块\ndemand.define = function (id, dep, cb) {\n\tvar module = {};\n\t//存在id的模块\n\tif (fn.isStr(id)) {\n\t\tmodule['id'] = id;\n\t\tif (fn.isArr(dep)) {\n\t\t\tmodule['dep'] = dep;\n\t\t\tmodule['_export_'] = cb;\n\t\t} else if (fn.isFn(dep)) {\n\t\t\tmodule['dep'] = [];\n\t\t\tmodule['_export_'] = dep;\n\t\t}\n\t} else if (fn.isArr(id)) {\n\t\tmodule['id'] = null;\n\t\tmodule['dep'] = id;\n\t\tmodule['_export_'] = dep;\n\t} else if (fn.isFn(id)) {\n\t\tmodule['id'] = null;\n\t\tmodule['dep'] = [];\n\t\tmodule['_export_'] = id;\n\t} else {\n\t\tthrow 'error';\n\t}\n\t//设置到最后一个接\n\tthis.module.lastLoadedModule = module;\n};\n\n/***/ }),\n/* 3 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/*\r\n    队列 \r\n * */\n\nvar Queue = function () {\n    function Queue(opts) {\n        _classCallCheck(this, Queue);\n\n        this.queue = [];\n    }\n\n    _createClass(Queue, [{\n        key: \"push\",\n        value: function push(fn) {\n            this.queue.push(fn);\n        }\n    }, {\n        key: \"next\",\n        value: function next() {\n            if (this.queue.length != 0) {\n                this.queue.shift();\n            }\n\n            if (this.queue.length === 0) this.cb();\n        }\n    }]);\n\n    return Queue;\n}();\n\nexports.default = Queue;\n\n/***/ }),\n/* 4 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.createScript = undefined;\nexports.setModuleQueue = setModuleQueue;\nexports.setAlias = setAlias;\nexports.setPaths = setPaths;\nexports.setModule = setModule;\nexports.resolvePath = resolvePath;\nexports.resolveJsExt = resolveJsExt;\nexports.hasModule = hasModule;\nexports.findModule = findModule;\n\nvar _queue = __webpack_require__(3);\n\nvar _queue2 = _interopRequireDefault(_queue);\n\nvar _fn = __webpack_require__(0);\n\nvar _fn2 = _interopRequireDefault(_fn);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/*\r\n * set，设置模块方法\r\n * */\n\nvar fn = new _fn2.default();\n\n//alias的规则\nvar ALIAS_PATH = /^@\\S{1,}/;\n//创建队列\nvar queue = new _queue2.default();\n//依赖管理\nvar depManage = [];\n\n//设置回调\nfunction setModuleQueue() {\n    var _this = this;\n\n    queue.cb = function () {\n        fn.each(depManage, function (depData, index) {\n            buildModuleDep.call(_this, depData);\n        });\n\n        var cbDeps = [];\n\n        fn.each(_this.module.use, function (depData, index) {\n\n            fn.each(depData.dep, function (dep, index) {\n                cbDeps.push(_this(dep));\n            });\n\n            depData.cb.apply(_this, cbDeps);\n        });\n    };\n}\n\n//设置模块内的依赖\nfunction buildModuleDep(depData) {\n    var _this2 = this;\n\n    var module = depData.module,\n        deps = depData.dep,\n        demandDep = [];\n\n    fn.each(deps, function (dep) {\n\n        var findM = findModule.call(_this2, dep),\n            depExport = findM['_export_'];\n\n        if (!findM.isDemand) {\n            findM['_export_'] = new depExport();\n            findM.isDemand = true;\n        }\n\n        demandDep.push(findM['_export_']);\n    });\n\n    if (!module.isDemand) {\n\n        module._export_ = module._export_.apply(this, demandDep);\n\n        module.isDemand = true;\n    }\n}\n\n//设置别名路径\nfunction setAlias(alias) {\n    var aliasPath = {};\n    fn.each(alias, function (path, key) {\n        if (ALIAS_PATH.test(key)) {\n            aliasPath[key] = path;\n        }\n    });\n    return aliasPath;\n}\n\n//设置模块路径\nfunction setPaths(paths) {\n    var _this3 = this;\n\n    var loadModules = [];\n\n    fn.each(paths, function (path, name) {\n\n        var demand = _this3,\n            resPath = resolvePath.call(_this3, path),\n            //处理完的路径\n        urlModules = _this3.module.urlModule,\n            //通过url处理的模块\n        pathModules = _this3.module.pathModule,\n            //通过config中path的模块\n        pathConfig = {\n            url: resPath,\n            name: name\n        };\n\n        //检查是否存在对应的模块，存在跳过\n        if (hasModule.call(_this3, path)) {\n            var hasCreateScript = isCreateScript.call(_this3, path);\n            //当前的模块是否被加载script\n            if (hasCreateScript) {\n                hasCreateScript.call(_this3);\n            }\n            return;\n        }\n\n        urlModules[resPath] = {\n            createScript: function createScript() {\n                _createScript.call(demand, pathConfig);\n            }\n        };\n\n        //如果是从paths中配置的路径\n        if (fn.isStr(name)) {\n            pathModules[name] = urlModules[resPath];\n        }\n\n        loadModules.push(pathConfig);\n    });\n\n    //返回处理完的模块路径\n    return loadModules;\n}\n\n//创建script节点\nfunction _createScript(opts) {\n    var _this4 = this;\n\n    var script = document.createElement('script');\n    //获取模块\n    opts.findM = findModule.call(this, opts.url);\n    script.async = true;\n    script.src = resolveJsExt(opts.url);\n\n    script.onload = function () {\n        delete opts.findM.createScript;\n        setModule.call(_this4, opts);\n        queue.next();\n    };\n\n    script.error = function () {};\n\n    queue.push(false);\n\n    document.getElementsByTagName('head')[0].appendChild(script);\n}\n\n//设置模块的信息\nexports.createScript = _createScript;\nfunction setModule(opts) {\n\n    var lastLoader = this.module.lastLoadedModule,\n        dep = lastLoader.dep;\n\n    //把最后加载的模块内容加载进去\n    fn.each(lastLoader, function (module, type) {\n        opts.findM[type] = module;\n    });\n\n    //扶弱当前的模块中存在id的名，设置id的模块\n    if (lastLoader.id) {\n        this.module.idModule[lastLoader.id] = opts.findM;\n    }\n\n    //查看依赖，设置一下依赖\n    if (dep.length > 0) {\n        var loadModules = setPaths.call(this, dep);\n        runCreateScript.call(this, loadModules);\n    }\n\n    //设置初始化的状态\n    opts.findM.isDemand = false;\n\n    //运行模块内容，返回接口\n    depManage.unshift({\n        module: opts.findM,\n        dep: dep\n    });\n\n    //重设最后的模块\n    resetLastLoadedModule.call(this);\n}\n\n//重设最后的模块\nfunction resetLastLoadedModule() {\n    this.module.lastLoadedModule = {};\n}\n\n//运行插入模块\nfunction runCreateScript(loadModules) {\n    var _this5 = this;\n\n    fn.each(loadModules, function (path, index) {\n        _createScript.call(_this5, path);\n    });\n}\n\n//检测单前模块是否加载了\nfunction isCreateScript(path) {\n    var findM = findModule.call(this, path);\n    if (fn.isFn(findM.createScript)) {\n        return findM.createScript;\n    } else {\n        return false;\n    }\n}\n\n//路径处理\nfunction resolvePath(path) {\n    var resPath = [this.baseUrl],\n        splitResPath = path.split('/');\n\n    fn.each(splitResPath, function (p, index) {\n        switch (p) {\n            case '':\n                if (index === 0) resPath[index] = '';\n                break;\n            case '.':\n                break;\n            case '..':\n                resPath.pop();\n                break;\n            default:\n                resPath.push(p);\n        }\n    });\n    return resPath.join('/');\n}\n\n//处理是否存在js后缀\nfunction resolveJsExt(url) {\n    if (/\\.js/g.test(url)) return url;else return url + '.js';\n}\n\n//查找当前的模块是否在模块中存在\nfunction hasModule(m) {\n    var path = resolvePath.call(this, m),\n        module = this.module;\n    if (module.pathModule[m] || module.idModule[m] || module.urlModule[path]) return true;\n    return false;\n}\n\n//查找对应的模块内容  权重：path > url > id\nfunction findModule(m) {\n    var module = this.module,\n        path = resolvePath.call(this, m);\n    if (module.pathModule[m]) return module.pathModule[m];\n    if (module.urlModule[path]) return module.urlModule[path];\n    if (module.idModule[m]) return module.idModule[m];\n    return false;\n}\n\n/***/ }),\n/* 5 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar _demand = __webpack_require__(2);\n\nvar _demand2 = _interopRequireDefault(_demand);\n\nvar _compatibility = __webpack_require__(1);\n\nvar _compatibility2 = _interopRequireDefault(_compatibility);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n//demand文件入口\n(function (global, factory) {\n    global ? global.demand = factory() : {};\n})(typeof window !== 'undefined' ? window : undefined, function () {\n\n    _demand2.default.version = \"v1.0.0\";\n\n    return _demand2.default;\n});\n//兼容性处理\n\n/***/ })\n/******/ ]);\n\n\n// WEBPACK FOOTER //\n// js/demand.min.js"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/dist\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 5);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap a43f5a8bbca08be5143e","//常用方法\r\nexport default class Fn {\r\n    isArr(array) {\r\n        return array instanceof Array;\r\n    }\r\n\r\n    isObj(obj) {\r\n        return obj instanceof Object && !(obj instanceof Array) && obj !== null;\r\n    }\r\n\r\n    isFn(fn) {\r\n        return typeof fn === 'function';\r\n    }\r\n    isStr(string) {\r\n        return typeof string === 'string';\r\n    }\r\n    isNum(num) {\r\n        return typeof num === 'number' || !isNaN(num);\r\n    }\r\n    each(obj, cb) { //遍历\r\n        let i = 0,\r\n            len = obj.length;\r\n        if(this.isArr(obj)) {\r\n            for(; i < len; i++) {\r\n                cb(obj[i], i);\r\n            }\r\n        } else {\r\n            for(i in obj) {\r\n                if(obj.hasOwnProperty(i)) cb(obj[i], i);\r\n            }\r\n        }\r\n    }\r\n    cb(cb, context, args) { //回调\r\n        args = args ? args : [];\r\n        this.isFn(cb) ? (cb.apply(context, args)) : null;\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/demand/fn.js","import Fn from './fn';\r\n\r\nconst fn = new Fn();\r\n\r\n//兼容性IE8\r\n(function() {\r\n\r\n    //兼容IE8中 的indexOf\r\n    if(!fn.isFn(Array.prototype.indexOf)) {\r\n        Array.prototype.indexOf = function(val) {\r\n            let index = 0,\r\n                len = this.length;\r\n            for(; index < len; index++) {\r\n                if(this[index] === val) return index;\r\n            }\r\n            return -1;\r\n        }\r\n    }\r\n\r\n    //map\r\n    if(!fn.isFn(Array.prototype.map)) {\r\n        Array.prototype.map = function(fn) {\r\n            let mapArr = [],\r\n                i = 0,\r\n                len = this.length;\r\n            for(; i < len; i++) {\r\n                mapArr.push(fn(this[i], i));\r\n            }\r\n            return mapArr;\r\n        }\r\n    }\r\n\r\n    //filter\r\n    if(!fn.isFn(Array.prototype.filter)) {\r\n        Array.prototype.filter = function(fn) {\r\n            let mapArr = [],\r\n                i = 0,\r\n                len = this.length;\r\n            for(; i < len; i++) {\r\n                let item = this[i];\r\n                if(fn(item, i)) mapArr.push(item);\r\n            }\r\n            return mapArr;\r\n        }\r\n    }\r\n\r\n})();\n\n\n// WEBPACK FOOTER //\n// ./src/demand/compatibility.js","import Fn from './fn';\r\n\r\nimport {\r\n\tsetAlias,\r\n\tsetPaths,\r\n\tsetModuleQueue,\r\n\thasModule,\r\n\tfindModule\r\n} from './set';\r\n\r\nconst fn = new Fn();\r\n\r\nexport default function demand(dep, cb) {\r\n\tconst _this = demand,\r\n\t\tmodule = _this.module;\r\n\t//运行依赖\r\n\tif(fn.isArr(dep)) {\r\n\t\tfn.each(dep, (name, index) => {\r\n\t\t\tif(!hasModule.call(_this, name)) return;\r\n\t\t\tconst findM = findModule.call(_this, name);\r\n\t\t\tfn.cb(findM.createScript, _this);\r\n\t\t});\r\n\r\n\t\t//存储回调，等所有的模块加载完毕后调用\r\n\t\tmodule.use.push({\r\n\t\t   cb:cb,\r\n\t\t   dep:dep\r\n\t\t});\r\n\t} else if(fn.isStr(dep)) {\r\n\t\t//获取模块\r\n\t\treturn findModule.call(_this,dep)['_export_'];\r\n\t}\r\n}\r\n\r\n//获取根路径\r\ndemand.origin = (function() {\r\n\treturn(location.origin || location.protocol + '//' + location.host);\r\n})();\r\n\r\n//配置\r\ndemand.config = function(opts) {\r\n\t//设置源路径\r\n\tthis.baseUrl = opts.baseUrl ? opts.baseUrl : this.origin;\r\n\t//配置别名\r\n\tthis.alias = fn.isObj(opts.alias) ? setAlias(opts.alias) : {};\r\n\t//设置paths\r\n\tsetPaths.call(this, opts.paths);\r\n\t//设置queue的回调\r\n\tsetModuleQueue.call(this);\r\n};\r\n\r\n//模块存储\r\ndemand.module = {\r\n\tpathModule: {},\r\n\tidModule: {},\r\n\turlModule: {},\r\n\tuse: [],\r\n\tlastLoadedModule: {}\r\n};\r\n\r\n//加载模块\r\ndemand.define = function(id, dep, cb) {\r\n\tconst module = {};\r\n\t//存在id的模块\r\n\tif(fn.isStr(id)) {\r\n\t\tmodule['id'] = id;\r\n\t\tif(fn.isArr(dep)) {\r\n\t\t\tmodule['dep'] = dep;\r\n\t\t\tmodule['_export_'] = cb;\r\n\t\t} else if(fn.isFn(dep)) {\r\n\t\t\tmodule['dep'] = [];\r\n\t\t\tmodule['_export_'] = dep;\r\n\t\t}\r\n\t} else if(fn.isArr(id)) {\r\n\t\tmodule['id'] = null;\r\n\t\tmodule['dep'] = id;\r\n\t\tmodule['_export_'] = dep;\r\n\t} else if(fn.isFn(id)) {\r\n\t    module['id'] = null;\r\n\t\tmodule['dep'] = [];\r\n\t\tmodule['_export_'] = id;\r\n\t} else {\r\n\t\tthrow('error');\r\n\t}\r\n\t//设置到最后一个接\r\n\tthis.module.lastLoadedModule = module;\r\n};\n\n\n// WEBPACK FOOTER //\n// ./src/demand/demand.js","/*\r\n    队列 \r\n * */\r\n\r\nexport default class Queue {\r\n    constructor(opts) {\r\n        this.queue = [];\r\n    }\r\n    push(fn) {\r\n        this.queue.push(fn);\r\n    }\r\n    next() {\r\n        if(this.queue.length != 0) {\r\n            this.queue.shift();\r\n        }\r\n        \r\n        if(this.queue.length === 0) this.cb();\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/demand/queue.js","/*\r\n * set，设置模块方法\r\n * */\r\n\r\nimport Queue from './queue';\r\n\r\nimport Fn from './fn';\r\n\r\nconst fn = new Fn();\r\n\r\n//alias的规则\r\nconst ALIAS_PATH = /^@\\S{1,}/;\r\n//创建队列\r\nconst queue = new Queue();\r\n//依赖管理\r\nconst depManage = [];\r\n\r\n//设置回调\r\nexport function setModuleQueue() {\r\n    queue.cb = () => {\r\n        fn.each(depManage, (depData, index) => {\r\n            buildModuleDep.call(this,depData);\r\n        });\r\n        \r\n        const cbDeps = [];\r\n        \r\n        fn.each(this.module.use, (depData, index) => {\r\n            \r\n            fn.each(depData.dep,(dep,index)=>{\r\n                cbDeps.push(this(dep));\r\n            });\r\n            \r\n            depData.cb.apply(this,cbDeps);\r\n        });\r\n    }\r\n}\r\n\r\n//设置模块内的依赖\r\nfunction buildModuleDep(depData) {\r\n    const module = depData.module, \r\n        deps = depData.dep,\r\n        demandDep = [];\r\n\r\n    fn.each(deps, (dep) => {\r\n\r\n        const findM = findModule.call(this, dep),\r\n            depExport = findM['_export_'];\r\n\r\n        if(!findM.isDemand) {\r\n            findM['_export_'] = new depExport();\r\n            findM.isDemand = true;\r\n        }\r\n\r\n        demandDep.push(findM['_export_']);\r\n\r\n    });\r\n\r\n    if(!module.isDemand) {\r\n\r\n        module._export_ = module._export_.apply(this, demandDep);\r\n\r\n        module.isDemand = true;\r\n    }\r\n}\r\n\r\n//设置别名路径\r\nexport function setAlias(alias) {\r\n    const aliasPath = {};\r\n    fn.each(alias, (path, key) => {\r\n        if(ALIAS_PATH.test(key)) {\r\n            aliasPath[key] = path;\r\n        }\r\n    });\r\n    return aliasPath;\r\n}\r\n\r\n//设置模块路径\r\nexport function setPaths(paths) {\r\n\r\n    const loadModules = [];\r\n\r\n    fn.each(paths, (path, name) => {\r\n\r\n        const demand = this,\r\n            resPath = resolvePath.call(this, path), //处理完的路径\r\n            urlModules = this.module.urlModule, //通过url处理的模块\r\n            pathModules = this.module.pathModule, //通过config中path的模块\r\n            pathConfig = {\r\n                url: resPath,\r\n                name: name\r\n            };\r\n\r\n        //检查是否存在对应的模块，存在跳过\r\n        if(hasModule.call(this, path)) {\r\n            const hasCreateScript = isCreateScript.call(this, path);\r\n            //当前的模块是否被加载script\r\n            if(hasCreateScript) {\r\n                hasCreateScript.call(this);\r\n            }\r\n            return;\r\n        }\r\n\r\n        urlModules[resPath] = {\r\n            createScript() {\r\n                createScript.call(demand, pathConfig);\r\n            }\r\n        }\r\n\r\n        //如果是从paths中配置的路径\r\n        if(fn.isStr(name)) {\r\n            pathModules[name] = urlModules[resPath];\r\n        }\r\n\r\n        loadModules.push(pathConfig);\r\n\r\n    });\r\n\r\n    //返回处理完的模块路径\r\n    return loadModules;\r\n}\r\n\r\n//创建script节点\r\nexport function createScript(opts) {\r\n    const script = document.createElement('script');\r\n    //获取模块\r\n    opts.findM = findModule.call(this, opts.url);\r\n    script.async = true;\r\n    script.src = resolveJsExt(opts.url);\r\n\r\n    script.onload = () => {\r\n        delete opts.findM.createScript;\r\n        setModule.call(this, opts);\r\n        queue.next();\r\n    };\r\n\r\n    script.error = function() {\r\n\r\n    };\r\n\r\n    queue.push(false);\r\n\r\n    document.getElementsByTagName('head')[0].appendChild(script);\r\n}\r\n\r\n//设置模块的信息\r\nexport function setModule(opts) {\r\n\r\n    const lastLoader = this.module.lastLoadedModule,\r\n        dep = lastLoader.dep;\r\n\r\n    //把最后加载的模块内容加载进去\r\n    fn.each(lastLoader, (module, type) => {\r\n        opts.findM[type] = module;\r\n    });\r\n\r\n    //扶弱当前的模块中存在id的名，设置id的模块\r\n    if(lastLoader.id) {\r\n        this.module.idModule[lastLoader.id] = opts.findM;\r\n    }\r\n\r\n    //查看依赖，设置一下依赖\r\n    if(dep.length > 0) {\r\n        const loadModules = setPaths.call(this, dep);\r\n        runCreateScript.call(this, loadModules);\r\n    }\r\n\r\n    //设置初始化的状态\r\n    opts.findM.isDemand = false;\r\n\r\n    //运行模块内容，返回接口\r\n    depManage.unshift({\r\n        module: opts.findM,\r\n        dep: dep\r\n    });\r\n\r\n    //重设最后的模块\r\n    resetLastLoadedModule.call(this);\r\n}\r\n\r\n//重设最后的模块\r\nfunction resetLastLoadedModule() {\r\n    this.module.lastLoadedModule = {};\r\n}\r\n\r\n//运行插入模块\r\nfunction runCreateScript(loadModules) {\r\n    fn.each(loadModules, (path, index) => {\r\n        createScript.call(this, path);\r\n    });\r\n}\r\n\r\n//检测单前模块是否加载了\r\nfunction isCreateScript(path) {\r\n    const findM = findModule.call(this, path);\r\n    if(fn.isFn(findM.createScript)) {\r\n        return findM.createScript;\r\n    } else {\r\n        return false;\r\n    }\r\n}\r\n\r\n//路径处理\r\nexport function resolvePath(path) {\r\n    const resPath = [this.baseUrl],\r\n        splitResPath = path.split('/');\r\n\r\n    fn.each(splitResPath, (p, index) => {\r\n        switch(p) {\r\n            case '':\r\n                if(index === 0) resPath[index] = '';\r\n                break;\r\n            case '.':\r\n                break;\r\n            case '..':\r\n                resPath.pop();\r\n                break;\r\n            default:\r\n                resPath.push(p);\r\n        }\r\n    });\r\n    return resPath.join('/');\r\n}\r\n\r\n//处理是否存在js后缀\r\nexport function resolveJsExt(url) {\r\n    if(/\\.js/g.test(url)) return url;\r\n    else return url + '.js';\r\n}\r\n\r\n//查找当前的模块是否在模块中存在\r\nexport function hasModule(m) {\r\n    const path = resolvePath.call(this, m),\r\n        module = this.module;\r\n    if(module.pathModule[m] ||\r\n        module.idModule[m] ||\r\n        module.urlModule[path]\r\n    ) return true;\r\n    return false;\r\n}\r\n\r\n//查找对应的模块内容  权重：path > url > id\r\nexport function findModule(m) {\r\n    const module = this.module,\r\n        path = resolvePath.call(this, m);\r\n    if(module.pathModule[m]) return module.pathModule[m];\r\n    if(module.urlModule[path]) return module.urlModule[path];\r\n    if(module.idModule[m]) return module.idModule[m];\r\n    return false;\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/demand/set.js","//demand文件入口\r\nimport demand from './demand/demand.js';\r\n//兼容性处理\r\nimport compatibility from './demand/compatibility';\r\n\r\n(function(global, factory) {\r\n    (global ? (global.demand = factory()) : {});\r\n})(typeof window !== 'undefined' ? window : this, function() {\r\n\r\n    demand.version = \"v1.0.0\";\r\n\r\n    return demand;\r\n});\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/index.js"],"sourceRoot":""}