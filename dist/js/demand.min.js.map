{"version":3,"sources":["webpack:///js/demand.min.js","webpack:///webpack/bootstrap d436174811504ee41567?5d90","webpack:///./src/demand/fn.js?8f94","webpack:///./src/demand/module.js?a760","webpack:///./src/demand/path.js?8e55","webpack:///./src/demand/init.js?4ded","webpack:///./src/demand/queue.js?c83d","webpack:///./src/demand/compatibility.js?3a8f","webpack:///./src/demand/demand.js?f1fb","webpack:///./src/demand/script.js?b4d4","webpack:///./src/index.js?9552","webpack:///./src/demand/dep.js?5004","webpack:///./src/demand/use.js?2522"],"names":["modules","__webpack_require__","moduleId","installedModules","exports","module","i","l","call","m","c","value","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","n","__esModule","object","property","prototype","hasOwnProperty","p","s","_classCallCheck","instance","Constructor","TypeError","_createClass","defineProperties","target","props","length","descriptor","writable","key","protoProps","staticProps","Fn","this","array","Array","obj","fn","string","num","isNaN","cb","len","isArr","context","args","isFn","apply","default","_interopRequireDefault","hasModule","path","_path","resolvePath","pathModule","idModule","urlModule","findModule","setModule","opts","lastLoader","lastLoadedModule","dep","_fn2","each","type","findM","id","loadModules","_init","setPaths","runCreateScript","isDemand","depManage","unshift","resetLastLoadedModule","_this","index","createScript","_fn","resPath","baseUrl","splitResPath","split","pop","push","join","resolveJsExt","url","test","paths","demand","urlModules","pathModules","pathConfig","_module","hasCreateScript","_script","isCreateScript","isStr","setAlias","alias","aliasPath","ALIAS_PATH","Queue","queue","shift","indexOf","val","map","mapArr","filter","item","use","status","_use","runUse","origin","location","protocol","host","config","isObj","useQueue","define","script","document","createElement","async","onload","_queue","next","error","src","getElementsByTagName","appendChild","_demand","_demand2","_compatibility","global","factory","window","undefined","version","buildModuleDep","depData","deps","demandDep","depExport","_export_","_dep","_this2","cbDeps"],"mappings":"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","file":"js/demand.min.js","sourcesContent":["/*!\n * \n * \t\t\tdemand.js v1.0.0\n * \t\t\t(c) 2016-2017 Blue\n * \t\t\tReleased under the MIT License.\n * \t\t\thttps://github.com/azhanging/demand\n * \t\t\ttime:Thu Sep 07 2017 16:18:28 GMT+0800 (中国标准时间)\n * \t\t\n */\n/******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// identity function for calling harmony imports with the correct context\n/******/ \t__webpack_require__.i = function(value) { return value; };\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, {\n/******/ \t\t\t\tconfigurable: false,\n/******/ \t\t\t\tenumerable: true,\n/******/ \t\t\t\tget: getter\n/******/ \t\t\t});\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"/dist\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 8);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n//常用方法\nvar Fn = function () {\n    function Fn() {\n        _classCallCheck(this, Fn);\n    }\n\n    _createClass(Fn, [{\n        key: 'isArr',\n        value: function isArr(array) {\n            return array instanceof Array;\n        }\n    }, {\n        key: 'isObj',\n        value: function isObj(obj) {\n            return obj instanceof Object && !(obj instanceof Array) && obj !== null;\n        }\n    }, {\n        key: 'isFn',\n        value: function isFn(fn) {\n            return typeof fn === 'function';\n        }\n    }, {\n        key: 'isStr',\n        value: function isStr(string) {\n            return typeof string === 'string';\n        }\n    }, {\n        key: 'isNum',\n        value: function isNum(num) {\n            return typeof num === 'number' || !isNaN(num);\n        }\n    }, {\n        key: 'each',\n        value: function each(obj, cb) {\n            //遍历\n            var i = 0,\n                len = obj.length;\n            if (this.isArr(obj)) {\n                for (; i < len; i++) {\n                    cb(obj[i], i);\n                }\n            } else {\n                for (i in obj) {\n                    if (obj.hasOwnProperty(i)) cb(obj[i], i);\n                }\n            }\n        }\n    }, {\n        key: 'cb',\n        value: function cb(_cb, context, args) {\n            //回调\n            args = args ? args : [];\n            this.isFn(_cb) ? _cb.apply(context, args) : null;\n        }\n    }]);\n\n    return Fn;\n}();\n\nexports.default = new Fn();\n\n/***/ }),\n/* 1 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\nexports.hasModule = hasModule;\nexports.findModule = findModule;\nexports.setModule = setModule;\n\nvar _fn = __webpack_require__(0);\n\nvar _fn2 = _interopRequireDefault(_fn);\n\nvar _init = __webpack_require__(3);\n\nvar _path = __webpack_require__(2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n//查找当前的模块是否在模块中存在\n\n//初始化\nfunction hasModule(m) {\n\tvar path = _path.resolvePath.call(this, m),\n\t    module = this.module;\n\tif (module.pathModule[m] || module.idModule[m] || module.urlModule[path]) return true;\n\treturn false;\n}\n\n//查找对应的模块内容  权重：path > url > id\nfunction findModule(m) {\n\tvar module = this.module,\n\t    path = _path.resolvePath.call(this, m);\n\tif (module.pathModule[m]) return module.pathModule[m];\n\tif (module.urlModule[path]) return module.urlModule[path];\n\tif (module.idModule[m]) return module.idModule[m];\n\treturn false;\n}\n\n//设置模块的信息\nfunction setModule(opts) {\n\n\tvar lastLoader = this.module.lastLoadedModule,\n\t    dep = lastLoader.dep;\n\n\t//把最后加载的模块内容加载进去\n\t_fn2.default.each(lastLoader, function (module, type) {\n\t\topts.findM[type] = module;\n\t});\n\n\t//扶弱当前的模块中存在id的名，设置id的模块\n\tif (lastLoader.id) {\n\t\tthis.module.idModule[lastLoader.id] = opts.findM;\n\t}\n\n\t//查看依赖，设置一下依赖\n\tif (dep.length > 0) {\n\t\tvar loadModules = _init.setPaths.call(this, dep);\n\t\trunCreateScript.call(this, loadModules);\n\t}\n\n\t//设置初始化的状态\n\topts.findM.isDemand = false;\n\n\t//运行模块内容，返回接口\n\tthis.module.depManage.unshift({\n\t\tmodule: opts.findM,\n\t\tdep: dep\n\t});\n\n\t//重设最后的模块\n\tresetLastLoadedModule.call(this);\n}\n\n//重设最后的模块\nfunction resetLastLoadedModule() {\n\tthis.module.lastLoadedModule = {};\n}\n\n//运行插入模块\nfunction runCreateScript(loadModules) {\n\tvar _this = this;\n\n\t_fn2.default.each(loadModules, function (path, index) {\n\t\tcreateScript.call(_this, path);\n\t});\n}\n\n/***/ }),\n/* 2 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\nexports.resolvePath = resolvePath;\nexports.resolveJsExt = resolveJsExt;\n\nvar _fn = __webpack_require__(0);\n\nvar _fn2 = _interopRequireDefault(_fn);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n//路径处理\nfunction resolvePath(path) {\n\tvar resPath = [this.baseUrl],\n\t    splitResPath = path.split('/');\n\n\t_fn2.default.each(splitResPath, function (p, index) {\n\t\tswitch (p) {\n\t\t\tcase '':\n\t\t\t\tif (index === 0) resPath[index] = '';\n\t\t\t\tbreak;\n\t\t\tcase '.':\n\t\t\t\tbreak;\n\t\t\tcase '..':\n\t\t\t\tresPath.pop();\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tresPath.push(p);\n\t\t}\n\t});\n\treturn resPath.join('/');\n}\n\n//处理是否存在js后缀\nfunction resolveJsExt(url) {\n\tif (/\\.js/g.test(url)) return url;else return url + '.js';\n}\n\n/***/ }),\n/* 3 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\nexports.setPaths = setPaths;\nexports.setAlias = setAlias;\n\nvar _path = __webpack_require__(2);\n\nvar _module = __webpack_require__(1);\n\nvar _script = __webpack_require__(7);\n\nvar _fn = __webpack_require__(0);\n\nvar _fn2 = _interopRequireDefault(_fn);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n//alias的规则\nvar ALIAS_PATH = /^@\\S{1,}/;\n\n//设置模块路径\nfunction setPaths(paths) {\n\tvar _this = this;\n\n\tvar loadModules = [];\n\n\t_fn2.default.each(paths, function (path, name) {\n\n\t\tvar demand = _this,\n\t\t    resPath = _path.resolvePath.call(_this, path),\n\t\t    //处理完的路径\n\t\turlModules = _this.module.urlModule,\n\t\t    //通过url处理的模块\n\t\tpathModules = _this.module.pathModule,\n\t\t    //通过config中path的模块\n\t\tpathConfig = {\n\t\t\turl: resPath,\n\t\t\tname: name\n\t\t};\n\n\t\t//检查是否存在对应的模块，存在跳过\n\t\tif (_module.hasModule.call(_this, path)) {\n\t\t\tvar hasCreateScript = _script.isCreateScript.call(_this, path);\n\t\t\t//当前的模块是否被加载script\n\t\t\tif (hasCreateScript) {\n\t\t\t\thasCreateScript.call(_this);\n\t\t\t}\n\t\t\treturn;\n\t\t}\n\n\t\turlModules[resPath] = {\n\t\t\tcreateScript: function createScript() {\n\t\t\t\t_script.createScript.call(demand, pathConfig);\n\t\t\t}\n\t\t};\n\n\t\t//如果是从paths中配置的路径\n\t\tif (_fn2.default.isStr(name)) {\n\t\t\tpathModules[name] = urlModules[resPath];\n\t\t}\n\n\t\tloadModules.push(pathConfig);\n\t});\n\n\t//返回处理完的模块路径\n\treturn loadModules;\n}\n\n//设置别名路径\nfunction setAlias(alias) {\n\tvar aliasPath = {};\n\t_fn2.default.each(alias, function (path, key) {\n\t\tif (ALIAS_PATH.test(key)) {\n\t\t\taliasPath[key] = path;\n\t\t}\n\t});\n\treturn aliasPath;\n}\n\n/***/ }),\n/* 4 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/*\r\n    队列 \r\n * */\n\nvar Queue = function () {\n    function Queue(opts) {\n        _classCallCheck(this, Queue);\n\n        this.queue = [];\n    }\n\n    _createClass(Queue, [{\n        key: \"push\",\n        value: function push(fn) {\n            this.queue.push(fn);\n        }\n    }, {\n        key: \"next\",\n        value: function next() {\n            if (this.queue.length != 0) {\n                this.queue.shift();\n            }\n\n            if (this.queue.length === 0) this.cb();\n        }\n    }]);\n\n    return Queue;\n}();\n\n//创建队列\n\n\nexports.default = Queue;\nvar queue = exports.queue = new Queue();\n\n/***/ }),\n/* 5 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar _fn = __webpack_require__(0);\n\nvar _fn2 = _interopRequireDefault(_fn);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n//兼容性IE8\n(function () {\n\n    //兼容IE8中 的indexOf\n    if (!_fn2.default.isFn(Array.prototype.indexOf)) {\n        Array.prototype.indexOf = function (val) {\n            var index = 0,\n                len = this.length;\n            for (; index < len; index++) {\n                if (this[index] === val) return index;\n            }\n            return -1;\n        };\n    }\n\n    //map\n    if (!_fn2.default.isFn(Array.prototype.map)) {\n        Array.prototype.map = function (fn) {\n            var mapArr = [],\n                i = 0,\n                len = this.length;\n            for (; i < len; i++) {\n                mapArr.push(fn(this[i], i));\n            }\n            return mapArr;\n        };\n    }\n\n    //filter\n    if (!_fn2.default.isFn(Array.prototype.filter)) {\n        Array.prototype.filter = function (fn) {\n            var mapArr = [],\n                i = 0,\n                len = this.length;\n            for (; i < len; i++) {\n                var item = this[i];\n                if (fn(item, i)) mapArr.push(item);\n            }\n            return mapArr;\n        };\n    }\n})();\n\n/***/ }),\n/* 6 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\nexports.default = demand;\n\nvar _module = __webpack_require__(1);\n\nvar _use = __webpack_require__(10);\n\nvar _init = __webpack_require__(3);\n\nvar _fn = __webpack_require__(0);\n\nvar _fn2 = _interopRequireDefault(_fn);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n//初始化\nfunction demand(dep, cb) {\n\tvar _this = demand,\n\t    module = _this.module;\n\t//运行依赖\n\tif (_fn2.default.isArr(dep)) {\n\t\t_fn2.default.each(dep, function (name, index) {\n\t\t\tif (!_module.hasModule.call(_this, name)) return;\n\t\t\tvar findM = _module.findModule.call(_this, name);\n\t\t\t_fn2.default.cb(findM.createScript, _this);\n\t\t});\n\n\t\t//存储回调，等所有的模块加载完毕后调用\n\t\tmodule.use.push({\n\t\t\tdep: dep,\n\t\t\tcb: cb\n\t\t});\n\t\tmodule.status ? _use.runUse.call(_this) : null;\n\t} else if (_fn2.default.isFn(dep)) {\n\t\t//使用情况全部的\t\n\t\tmodule.use.push({\n\t\t\tdep: [],\n\t\t\tcb: dep\n\t\t});\n\n\t\tmodule.status ? _use.runUse.call(_this) : null;\n\t} else if (_fn2.default.isStr(dep)) {\n\t\t//获取模块\n\t\treturn _module.findModule.call(_this, dep)['_export_'];\n\t}\n}\n\n//获取根路径\ndemand.origin = function () {\n\treturn location.origin || location.protocol + '//' + location.host;\n}();\n\n//配置\ndemand.config = function (opts) {\n\t//设置源路径\n\tthis.baseUrl = opts.baseUrl ? opts.baseUrl : this.origin;\n\t//配置别名\n\tthis.alias = _fn2.default.isObj(opts.alias) ? (0, _init.setAlias)(opts.alias) : {};\n\t//设置paths\n\t_init.setPaths.call(this, opts.paths);\n\t//设置queue的回调\n\t_use.useQueue.call(this);\n\t//存在多个config，重新配置status状态\t\n\tthis.module.status = false;\n};\n\n//模块存储\ndemand.module = {\n\tpathModule: {}, //config中的path模块\n\tidModule: {}, //id模块\n\turlModule: {}, //url路径的模块\n\tuse: [], //use集合\n\tlastLoadedModule: {}, //最后获取到的模块\n\tdepManage: [], //依赖管理\n\tstatus: false //全部的use加载状态\n};\n\n//加载模块\ndemand.define = function (id, dep, cb) {\n\tvar module = {};\n\t//存在id的模块\n\tif (_fn2.default.isStr(id)) {\n\t\tmodule['id'] = id;\n\t\tif (_fn2.default.isArr(dep)) {\n\t\t\tmodule['dep'] = dep;\n\t\t\tmodule['_export_'] = cb;\n\t\t} else if (_fn2.default.isFn(dep)) {\n\t\t\tmodule['dep'] = [];\n\t\t\tmodule['_export_'] = dep;\n\t\t}\n\t} else if (_fn2.default.isArr(id)) {\n\t\tmodule['id'] = null;\n\t\tmodule['dep'] = id;\n\t\tmodule['_export_'] = dep;\n\t} else if (_fn2.default.isFn(id)) {\n\t\tmodule['id'] = null;\n\t\tmodule['dep'] = [];\n\t\tmodule['_export_'] = id;\n\t} else {\n\t\tthrow 'error';\n\t}\n\t//设置到最后一个接\n\tthis.module.lastLoadedModule = module;\n};\n\n/***/ }),\n/* 7 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\nexports.createScript = createScript;\nexports.isCreateScript = isCreateScript;\n\nvar _module = __webpack_require__(1);\n\nvar _path = __webpack_require__(2);\n\nvar _queue = __webpack_require__(4);\n\nvar _fn = __webpack_require__(0);\n\nvar _fn2 = _interopRequireDefault(_fn);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n//创建script节点\nfunction createScript(opts) {\n\tvar _this = this;\n\n\tvar script = document.createElement('script');\n\t//获取模块\n\topts.findM = _module.findModule.call(this, opts.url);\n\tscript.async = true;\n\n\tscript.onload = function () {\n\t\tdelete opts.findM.createScript;\n\t\t_module.setModule.call(_this, opts);\n\t\t_queue.queue.next();\n\t};\n\n\tscript.error = function () {\n\t\tthrow '加载模块出错！';\n\t};\n\n\tscript.type = \"text/javascript\";\n\n\tscript.src = (0, _path.resolveJsExt)(opts.url);\n\n\t_queue.queue.push(false);\n\n\tdocument.getElementsByTagName('head')[0].appendChild(script);\n}\n\n//检测单前模块script是否加载了\nfunction isCreateScript(path) {\n\tvar findM = _module.findModule.call(this, path);\n\tif (_fn2.default.isFn(findM.createScript)) {\n\t\treturn findM.createScript;\n\t} else {\n\t\treturn false;\n\t}\n}\n\n/***/ }),\n/* 8 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar _demand = __webpack_require__(6);\n\nvar _demand2 = _interopRequireDefault(_demand);\n\nvar _compatibility = __webpack_require__(5);\n\nvar _compatibility2 = _interopRequireDefault(_compatibility);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n//demand文件入口\n(function (global, factory) {\n    global ? global.demand = factory() : {};\n})(typeof window !== 'undefined' ? window : undefined, function () {\n\n    _demand2.default.version = \"v1.0.0\";\n\n    return _demand2.default;\n});\n//兼容性处理\n\n/***/ }),\n/* 9 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\nexports.buildModuleDep = buildModuleDep;\n\nvar _fn = __webpack_require__(0);\n\nvar _fn2 = _interopRequireDefault(_fn);\n\nvar _module = __webpack_require__(1);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/*\r\n *\t设置模块内的依赖depData \r\n * \t{\r\n * \t\tdep:[dep1,dep2],\r\n * \t\tmodule:module\r\n * \t}\r\n * */\nfunction buildModuleDep(depData) {\n\tvar _this = this;\n\n\tvar module = depData.module,\n\t    deps = depData.dep,\n\t    demandDep = [];\n\n\t_fn2.default.each(deps, function (dep) {\n\t\tvar findM = _module.findModule.call(_this, dep),\n\t\t    depExport = findM._export_;\n\t\tif (!findM.isDemand) {\n\t\t\tfindM._export_ = new depExport();\n\t\t\tfindM.isDemand = true;\n\t\t}\n\t\tdemandDep.push(findM._export_);\n\t});\n\n\tif (!module.isDemand) {\n\t\tmodule._export_ = module._export_.apply(this, demandDep);\n\t\tmodule.isDemand = true;\n\t}\n}\n\n/***/ }),\n/* 10 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\nexports.useQueue = useQueue;\nexports.runUse = runUse;\n\nvar _dep = __webpack_require__(9);\n\nvar _queue = __webpack_require__(4);\n\nvar _fn = __webpack_require__(0);\n\nvar _fn2 = _interopRequireDefault(_fn);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n//设置模块的依赖队列和use中的cb\nfunction useQueue() {\n\tvar _this = this;\n\n\t_queue.queue.cb = function () {\n\t\tvar module = _this.module;\n\t\t//设置dep的依赖\n\t\twhile (module.depManage.length !== 0) {\n\t\t\tvar depData = module.depManage.shift();\n\t\t\t_dep.buildModuleDep.call(_this, depData);\n\t\t}\n\t\t//处理use\n\t\trunUse.call(_this);\n\t\t//第一次所有的\n\t\tmodule.status = true;\n\t};\n}\n\n//运行依赖\nfunction runUse() {\n\tvar _this2 = this;\n\n\tvar module = this.module,\n\t    cbDeps = [];\n\twhile (module.use.length !== 0) {\n\t\tvar depData = module.use.shift();\n\t\t_fn2.default.each(depData.dep, function (dep, index) {\n\t\t\tcbDeps.push(_this2(dep));\n\t\t});\n\t\tdepData.cb.apply(this, cbDeps);\n\t}\n}\n\n/***/ })\n/******/ ]);\n\n\n// WEBPACK FOOTER //\n// js/demand.min.js"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/dist\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 8);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap d436174811504ee41567","//常用方法\r\nclass Fn {\r\n    isArr(array) {\r\n        return array instanceof Array;\r\n    }\r\n\r\n    isObj(obj) {\r\n        return obj instanceof Object && !(obj instanceof Array) && obj !== null;\r\n    }\r\n\r\n    isFn(fn) {\r\n        return typeof fn === 'function';\r\n    }\r\n    isStr(string) {\r\n        return typeof string === 'string';\r\n    }\r\n    isNum(num) {\r\n        return typeof num === 'number' || !isNaN(num);\r\n    }\r\n    each(obj, cb) { //遍历\r\n        let i = 0,\r\n            len = obj.length;\r\n        if(this.isArr(obj)) {\r\n            for(; i < len; i++) {\r\n                cb(obj[i], i);\r\n            }\r\n        } else {\r\n            for(i in obj) {\r\n                if(obj.hasOwnProperty(i)) cb(obj[i], i);\r\n            }\r\n        }\r\n    }\r\n    cb(cb, context, args) { //回调\r\n        args = args ? args : [];\r\n        this.isFn(cb) ? (cb.apply(context, args)) : null;\r\n    }\r\n}\r\n\r\nexport default new Fn();\n\n\n// WEBPACK FOOTER //\n// ./src/demand/fn.js","import fn from './fn';\r\n//初始化\r\nimport { setPaths } from './init';\r\n\r\nimport { resolvePath } from './path';\r\n\r\n//查找当前的模块是否在模块中存在\r\nexport function hasModule(m) {\r\n\tconst path = resolvePath.call(this, m),\r\n\t\tmodule = this.module;\r\n\tif(module.pathModule[m] ||\r\n\t\tmodule.idModule[m] ||\r\n\t\tmodule.urlModule[path]\r\n\t) return true;\r\n\treturn false;\r\n}\r\n\r\n//查找对应的模块内容  权重：path > url > id\r\nexport function findModule(m) {\r\n\tconst module = this.module,\r\n\t\tpath = resolvePath.call(this, m);\r\n\tif(module.pathModule[m]) return module.pathModule[m];\r\n\tif(module.urlModule[path]) return module.urlModule[path];\r\n\tif(module.idModule[m]) return module.idModule[m];\r\n\treturn false;\r\n}\r\n\r\n//设置模块的信息\r\nexport function setModule(opts) {\r\n\r\n\tconst lastLoader = this.module.lastLoadedModule,\r\n\t\tdep = lastLoader.dep;\r\n\r\n\t//把最后加载的模块内容加载进去\r\n\tfn.each(lastLoader, (module, type) => {\r\n\t\topts.findM[type] = module;\r\n\t});\r\n\r\n\t//扶弱当前的模块中存在id的名，设置id的模块\r\n\tif(lastLoader.id) {\r\n\t\tthis.module.idModule[lastLoader.id] = opts.findM;\r\n\t}\r\n\r\n\t//查看依赖，设置一下依赖\r\n\tif(dep.length > 0) {\r\n\t\tconst loadModules = setPaths.call(this, dep);\r\n\t\trunCreateScript.call(this, loadModules);\r\n\t}\r\n\r\n\t//设置初始化的状态\r\n\topts.findM.isDemand = false;\r\n\r\n\t//运行模块内容，返回接口\r\n\tthis.module.depManage.unshift({\r\n\t\tmodule: opts.findM,\r\n\t\tdep: dep\r\n\t});\r\n\r\n\t//重设最后的模块\r\n\tresetLastLoadedModule.call(this);\r\n}\r\n\r\n//重设最后的模块\r\nfunction resetLastLoadedModule() {\r\n\tthis.module.lastLoadedModule = {};\r\n}\r\n\r\n//运行插入模块\r\nfunction runCreateScript(loadModules) {\r\n\tfn.each(loadModules, (path, index) => {\r\n\t\tcreateScript.call(this, path);\r\n\t});\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/demand/module.js","import fn from './fn';\r\n\r\n//路径处理\r\nexport function resolvePath(path) {\r\n\tconst resPath = [this.baseUrl],\r\n\t\tsplitResPath = path.split('/');\r\n\r\n\tfn.each(splitResPath, (p, index) => {\r\n\t\tswitch(p) {\r\n\t\t\tcase '':\r\n\t\t\t\tif(index === 0) resPath[index] = '';\r\n\t\t\t\tbreak;\r\n\t\t\tcase '.':\r\n\t\t\t\tbreak;\r\n\t\t\tcase '..':\r\n\t\t\t\tresPath.pop();\r\n\t\t\t\tbreak;\r\n\t\t\tdefault:\r\n\t\t\t\tresPath.push(p);\r\n\t\t}\r\n\t});\r\n\treturn resPath.join('/');\r\n}\r\n\r\n//处理是否存在js后缀\r\nexport function resolveJsExt(url) {\r\n\tif(/\\.js/g.test(url)) return url;\r\n\telse return url + '.js';\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/demand/path.js","import { resolvePath } from './path';\r\n\r\nimport { hasModule } from './module';\r\n\r\nimport { createScript, isCreateScript } from './script';\r\n\r\nimport fn from './fn';\r\n\r\n//alias的规则\r\nconst ALIAS_PATH = /^@\\S{1,}/;\r\n\r\n//设置模块路径\r\nexport function setPaths(paths) {\r\n\r\n\tconst loadModules = [];\r\n\r\n\tfn.each(paths, (path, name) => {\r\n\r\n\t\tconst demand = this,\r\n\t\t\tresPath = resolvePath.call(this, path), //处理完的路径\r\n\t\t\turlModules = this.module.urlModule, //通过url处理的模块\r\n\t\t\tpathModules = this.module.pathModule, //通过config中path的模块\r\n\t\t\tpathConfig = {\r\n\t\t\t\turl: resPath,\r\n\t\t\t\tname: name\r\n\t\t\t};\r\n\r\n\t\t//检查是否存在对应的模块，存在跳过\r\n\t\tif(hasModule.call(this, path)) {\r\n\t\t\tconst hasCreateScript = isCreateScript.call(this, path);\r\n\t\t\t//当前的模块是否被加载script\r\n\t\t\tif(hasCreateScript) {\r\n\t\t\t\thasCreateScript.call(this);\r\n\t\t\t}\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\turlModules[resPath] = {\r\n\t\t\tcreateScript() {\r\n\t\t\t\tcreateScript.call(demand, pathConfig);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t//如果是从paths中配置的路径\r\n\t\tif(fn.isStr(name)) {\r\n\t\t\tpathModules[name] = urlModules[resPath];\r\n\t\t}\r\n\r\n\t\tloadModules.push(pathConfig);\r\n\t});\r\n\r\n\t//返回处理完的模块路径\r\n\treturn loadModules;\r\n}\r\n\r\n//设置别名路径\r\nexport function setAlias(alias) {\r\n\tconst aliasPath = {};\r\n\tfn.each(alias, (path, key) => {\r\n\t\tif(ALIAS_PATH.test(key)) {\r\n\t\t\taliasPath[key] = path;\r\n\t\t}\r\n\t});\r\n\treturn aliasPath;\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/demand/init.js","/*\r\n    队列 \r\n * */\r\n\r\nexport default class Queue {\r\n    constructor(opts) {\r\n        this.queue = [];\r\n    }\r\n    push(fn) {\r\n        this.queue.push(fn);\r\n    }\r\n    next() {\r\n        if(this.queue.length != 0) {\r\n            this.queue.shift();\r\n        }\r\n        \r\n        if(this.queue.length === 0) this.cb();\r\n    }\r\n}\r\n\r\n//创建队列\r\nexport const queue = new Queue();\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/demand/queue.js","import fn from './fn';\r\n\r\n//兼容性IE8\r\n(function() {\r\n\r\n    //兼容IE8中 的indexOf\r\n    if(!fn.isFn(Array.prototype.indexOf)) {\r\n        Array.prototype.indexOf = function(val) {\r\n            let index = 0,\r\n                len = this.length;\r\n            for(; index < len; index++) {\r\n                if(this[index] === val) return index;\r\n            }\r\n            return -1;\r\n        }\r\n    }\r\n\r\n    //map\r\n    if(!fn.isFn(Array.prototype.map)) {\r\n        Array.prototype.map = function(fn) {\r\n            let mapArr = [],\r\n                i = 0,\r\n                len = this.length;\r\n            for(; i < len; i++) {\r\n                mapArr.push(fn(this[i], i));\r\n            }\r\n            return mapArr;\r\n        }\r\n    }\r\n\r\n    //filter\r\n    if(!fn.isFn(Array.prototype.filter)) {\r\n        Array.prototype.filter = function(fn) {\r\n            let mapArr = [],\r\n                i = 0,\r\n                len = this.length;\r\n            for(; i < len; i++) {\r\n                let item = this[i];\r\n                if(fn(item, i)) mapArr.push(item);\r\n            }\r\n            return mapArr;\r\n        }\r\n    }\r\n\r\n})();\n\n\n// WEBPACK FOOTER //\n// ./src/demand/compatibility.js","import { hasModule, findModule } from './module';\r\n\r\nimport { useQueue, checkRunUse, runUse } from './use';\r\n\r\n//初始化\r\nimport { setAlias, setPaths } from './init';\r\n\r\nimport fn from './fn';\r\n\r\nexport default function demand(dep, cb) {\r\n\tconst _this = demand,\r\n\t\tmodule = _this.module;\r\n\t//运行依赖\r\n\tif(fn.isArr(dep)) {\r\n\t\tfn.each(dep, (name, index) => {\r\n\t\t\tif(!hasModule.call(_this, name)) return;\r\n\t\t\tconst findM = findModule.call(_this, name);\r\n\t\t\tfn.cb(findM.createScript, _this);\r\n\t\t});\r\n\r\n\t\t//存储回调，等所有的模块加载完毕后调用\r\n\t\tmodule.use.push({\r\n\t\t\tdep: dep,\r\n\t\t\tcb: cb\r\n\t\t});\r\n\t\tmodule.status ? runUse.call(_this) : null;\r\n\r\n\t} else if(fn.isFn(dep)) {\r\n\t//使用情况全部的\t\r\n\t\tmodule.use.push({\r\n\t\t\tdep: [],\r\n\t\t\tcb: dep\r\n\t\t});\r\n\t\t\r\n\t\tmodule.status ? runUse.call(_this) : null;\r\n\t\t\r\n\t} else if(fn.isStr(dep)) {\r\n\t\t//获取模块\r\n\t\treturn findModule.call(_this, dep)['_export_'];\r\n\t}\r\n}\r\n\r\n//获取根路径\r\ndemand.origin = (function() {\r\n\treturn(location.origin || location.protocol + '//' + location.host);\r\n})();\r\n\r\n//配置\r\ndemand.config = function(opts) {\r\n\t//设置源路径\r\n\tthis.baseUrl = opts.baseUrl ? opts.baseUrl : this.origin;\r\n\t//配置别名\r\n\tthis.alias = fn.isObj(opts.alias) ? setAlias(opts.alias) : {};\r\n\t//设置paths\r\n\tsetPaths.call(this, opts.paths);\r\n\t//设置queue的回调\r\n\tuseQueue.call(this);\r\n\t//存在多个config，重新配置status状态\t\r\n\tthis.module.status = false;\r\n};\r\n\r\n//模块存储\r\ndemand.module = {\r\n\tpathModule: {}, //config中的path模块\r\n\tidModule: {}, //id模块\r\n\turlModule: {}, //url路径的模块\r\n\tuse: [], //use集合\r\n\tlastLoadedModule: {}, //最后获取到的模块\r\n\tdepManage: [], //依赖管理\r\n\tstatus: false //全部的use加载状态\r\n};\r\n\r\n//加载模块\r\ndemand.define = function(id, dep, cb) {\r\n\tconst module = {};\r\n\t//存在id的模块\r\n\tif(fn.isStr(id)) {\r\n\t\tmodule['id'] = id;\r\n\t\tif(fn.isArr(dep)) {\r\n\t\t\tmodule['dep'] = dep;\r\n\t\t\tmodule['_export_'] = cb;\r\n\t\t} else if(fn.isFn(dep)) {\r\n\t\t\tmodule['dep'] = [];\r\n\t\t\tmodule['_export_'] = dep;\r\n\t\t}\r\n\t} else if(fn.isArr(id)) {\r\n\t\tmodule['id'] = null;\r\n\t\tmodule['dep'] = id;\r\n\t\tmodule['_export_'] = dep;\r\n\t} else if(fn.isFn(id)) {\r\n\t\tmodule['id'] = null;\r\n\t\tmodule['dep'] = [];\r\n\t\tmodule['_export_'] = id;\r\n\t} else {\r\n\t\tthrow('error');\r\n\t}\r\n\t//设置到最后一个接\r\n\tthis.module.lastLoadedModule = module;\r\n};\n\n\n// WEBPACK FOOTER //\n// ./src/demand/demand.js","import { findModule, setModule } from './module';\r\n\r\nimport { resolveJsExt } from './path';\r\n\r\nimport { queue } from './queue';\r\n\r\nimport fn from './fn';\r\n\r\n//创建script节点\r\nexport function createScript(opts) {\r\n\tconst script = document.createElement('script');\r\n\t//获取模块\r\n\topts.findM = findModule.call(this, opts.url);\r\n\tscript.async = true;\r\n\r\n\tscript.onload = () => {\r\n\t\tdelete opts.findM.createScript;\r\n\t\tsetModule.call(this, opts);\r\n\t\tqueue.next();\r\n\t};\r\n\r\n\tscript.error = function() {\r\n\t\tthrow('加载模块出错！');\r\n\t};\r\n\r\n\tscript.type = \"text/javascript\";\r\n\r\n\tscript.src = resolveJsExt(opts.url);\r\n\r\n\tqueue.push(false);\r\n\r\n\tdocument.getElementsByTagName('head')[0].appendChild(script);\r\n}\r\n\r\n//检测单前模块script是否加载了\r\nexport function isCreateScript(path) {\r\n\tconst findM = findModule.call(this, path);\r\n\tif(fn.isFn(findM.createScript)) {\r\n\t\treturn findM.createScript;\r\n\t} else {\r\n\t\treturn false;\r\n\t}\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/demand/script.js","//demand文件入口\r\nimport demand from './demand/demand.js';\r\n//兼容性处理\r\nimport compatibility from './demand/compatibility';\r\n\r\n(function(global, factory) {\r\n    (global ? (global.demand = factory()) : {});\r\n})(typeof window !== 'undefined' ? window : this, function() {\r\n\r\n    demand.version = \"v1.0.0\";\r\n\r\n    return demand;\r\n});\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/index.js","import fn from './fn';\r\n\r\nimport { findModule } from './module';\r\n\r\n/*\r\n *\t设置模块内的依赖depData \r\n * \t{\r\n * \t\tdep:[dep1,dep2],\r\n * \t\tmodule:module\r\n * \t}\r\n * */\r\nexport function buildModuleDep(depData) {\r\n\tconst module = depData.module,\r\n\t\tdeps = depData.dep,\r\n\t\tdemandDep = [];\r\n\r\n\tfn.each(deps, (dep) => {\r\n\t\tconst findM = findModule.call(this, dep),\r\n\t\t\tdepExport = findM._export_;\r\n\t\tif(!findM.isDemand) {\r\n\t\t\tfindM._export_ = new depExport();\r\n\t\t\tfindM.isDemand = true;\r\n\t\t}\r\n\t\tdemandDep.push(findM._export_);\r\n\t});\r\n\r\n\tif(!module.isDemand) {\r\n\t\tmodule._export_ = module._export_.apply(this, demandDep);\r\n\t\tmodule.isDemand = true;\r\n\t}\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/demand/dep.js","import { buildModuleDep } from './dep';\r\n\r\nimport { queue } from './queue';\r\n\r\nimport fn from './fn';\r\n\r\n//设置模块的依赖队列和use中的cb\r\nexport function useQueue() {\r\n\tqueue.cb = () => {\r\n\t\tconst module = this.module;\r\n\t\t//设置dep的依赖\r\n\t\twhile(module.depManage.length !== 0) {\r\n\t\t\tconst depData = module.depManage.shift();\r\n\t\t\tbuildModuleDep.call(this, depData);\r\n\t\t}\r\n\t\t//处理use\r\n\t\trunUse.call(this);\r\n\t\t//第一次所有的\r\n\t\tmodule.status = true;\r\n\t}\r\n}\r\n\r\n//运行依赖\r\nexport function runUse() {\r\n\tconst module = this.module,\r\n\t\tcbDeps = [];\r\n\twhile(module.use.length !== 0) {\r\n\t\tconst depData = module.use.shift();\r\n\t\tfn.each(depData.dep, (dep, index) => {\r\n\t\t\tcbDeps.push(this(dep));\r\n\t\t});\r\n\t\tdepData.cb.apply(this, cbDeps);\r\n\t}\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/demand/use.js"],"sourceRoot":""}