{"version":3,"sources":["webpack:///js/demand.min.js","webpack:///webpack/bootstrap 8641be895065ee29f5ae?2565","webpack:///./src/demand/fn.js?8f94","webpack:///./src/demand/compatibility.js?3a8f","webpack:///./src/demand/demand.js?f1fb","webpack:///./src/demand/set.js?f5cf","webpack:///./src/index.js?9552","webpack:///./src/demand/queue.js?c83d"],"names":["modules","__webpack_require__","moduleId","installedModules","exports","module","i","l","call","m","c","value","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","n","__esModule","object","property","prototype","hasOwnProperty","p","s","_classCallCheck","instance","Constructor","TypeError","_createClass","defineProperties","target","props","length","descriptor","writable","key","protoProps","staticProps","Fn","this","array","Array","obj","fn","string","num","isNaN","cb","len","isArr","context","args","isFn","apply","default","_interopRequireDefault","_fn","_fn2","indexOf","val","index","map","mapArr","push","filter","item","demand","dep","each","createScript","_set","origin","location","protocol","host","configed","config","opts","console","warn","baseUrl","alias","isObj","setAlias","setPaths","paths","use","define","id","isStr","aliasPath","path","ALIAS_PATH","test","_this","resPath","resolvePath","isLoaded","url","script","document","createElement","async","setAttribute","src","resolveJsExt","getElementsByTagName","appendChild","splitResPath","split","pop","join","undefined","_queue","_createScript","_demand","_demand2","_compatibility","global","factory","window","version","Queue","queue","shift"],"mappings":"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","file":"js/demand.min.js","sourcesContent":["/*!\n * \n * \t\t\tdemand.js v1.0.0\n * \t\t\t(c) 2016-2017 Blue\n * \t\t\tReleased under the MIT License.\n * \t\t\thttps://github.com/azhanging/demand\n * \t\t\ttime:Tue Sep 05 2017 23:03:14 GMT+0800 (中国标准时间)\n * \t\t\n */\n/******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// identity function for calling harmony imports with the correct context\n/******/ \t__webpack_require__.i = function(value) { return value; };\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, {\n/******/ \t\t\t\tconfigurable: false,\n/******/ \t\t\t\tenumerable: true,\n/******/ \t\t\t\tget: getter\n/******/ \t\t\t});\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"/dist\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 4);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n//常用方法\nvar Fn = function () {\n    function Fn() {\n        _classCallCheck(this, Fn);\n    }\n\n    _createClass(Fn, [{\n        key: 'isArr',\n        value: function isArr(array) {\n            return array instanceof Array || !!(array && array.length);\n        }\n    }, {\n        key: 'isObj',\n        value: function isObj(obj) {\n            return obj instanceof Object && !(obj instanceof Array) && obj !== null;\n        }\n    }, {\n        key: 'isFn',\n        value: function isFn(fn) {\n            return typeof fn === 'function';\n        }\n    }, {\n        key: 'isStr',\n        value: function isStr(string) {\n            return typeof string === 'string';\n        }\n    }, {\n        key: 'isNum',\n        value: function isNum(num) {\n            return typeof num === 'number' || !isNaN(num);\n        }\n    }, {\n        key: 'each',\n        value: function each(obj, cb) {\n            //遍历\n            var i = 0,\n                len = obj.length;\n            if (this.isArr(obj)) {\n                for (; i < len; i++) {\n                    cb(obj[i], i);\n                }\n            } else {\n                for (i in obj) {\n                    if (obj.hasOwnProperty(i)) cb(obj[i], i);\n                }\n            }\n        }\n    }, {\n        key: 'cb',\n        value: function cb(_cb, context, args) {\n            //回调\n            args = args ? args : [];\n            this.isFn(_cb) ? _cb.apply(context, args) : null;\n        }\n    }]);\n\n    return Fn;\n}();\n\nexports.default = Fn;\n\n/***/ }),\n/* 1 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar _fn = __webpack_require__(0);\n\nvar _fn2 = _interopRequireDefault(_fn);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar fn = new _fn2.default();\n\n//兼容性IE8\n(function () {\n\n    //兼容IE8中 的indexOf\n    if (!fn.isFn(Array.prototype.indexOf)) {\n        Array.prototype.indexOf = function (val) {\n            var index = 0,\n                len = this.length;\n            for (; index < len; index++) {\n                if (this[index] === val) return index;\n            }\n            return -1;\n        };\n    }\n\n    //map\n    if (!fn.isFn(Array.prototype.map)) {\n        Array.prototype.map = function (fn) {\n            var mapArr = [],\n                i = 0,\n                len = this.length;\n            for (; i < len; i++) {\n                mapArr.push(fn(this[i], i));\n            }\n            return mapArr;\n        };\n    }\n\n    //filter\n    if (!fn.isFn(Array.prototype.filter)) {\n        Array.prototype.filter = function (fn) {\n            var mapArr = [],\n                i = 0,\n                len = this.length;\n            for (; i < len; i++) {\n                var item = this[i];\n                if (fn(item, i)) mapArr.push(item);\n            }\n            return mapArr;\n        };\n    }\n})();\n\n/***/ }),\n/* 2 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = demand;\n\nvar _fn = __webpack_require__(0);\n\nvar _fn2 = _interopRequireDefault(_fn);\n\nvar _set = __webpack_require__(3);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar fn = new _fn2.default();\n\nfunction demand(dep, cb) {\n    if (fn.isArr(dep)) {\n        fn.each(dep, function (name, index) {\n            demand.module.installedModules[name].createScript();\n        });\n    }\n}\n\n//获取根路径\ndemand.origin = function () {\n    return location.origin || location.protocol + '//' + location.host;\n}();\n\n//配置状态\nvar configed = false;\n\n//配置\ndemand.config = function (opts) {\n    //不能重新配置模块\n    if (configed) {\n        console.warn('不能重复配置模块！');\n        return;\n    }\n    //设置源路径\n    demand.baseUrl = opts.baseUrl ? opts.baseUrl : demand.origin;\n    //配置别名\n    demand.alias = fn.isObj(opts.alias) ? (0, _set.setAlias)(opts.alias) : {};\n    //设置paths\n    _set.setPaths.call(demand, opts.paths);\n    //单例配置\n    configed = true;\n};\n\n//模块存储\ndemand.module = {\n    installedModules: {},\n    use: []\n};\n\n//加载模块\ndemand.define = function (id, dep, cb) {\n    //第一个参数为id名字\n    if (fn.isStr(id)) {}\n};\n\n/***/ }),\n/* 3 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.createScript = undefined;\nexports.setAlias = setAlias;\nexports.setPaths = setPaths;\nexports.resolvePath = resolvePath;\nexports.resolveJsExt = resolveJsExt;\n\nvar _queue = __webpack_require__(5);\n\nvar _queue2 = _interopRequireDefault(_queue);\n\nvar _fn = __webpack_require__(0);\n\nvar _fn2 = _interopRequireDefault(_fn);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/*\r\n * set，设置模块方法\r\n * */\n\nvar fn = new _fn2.default();\n\n//alias的规则\nvar ALIAS_PATH = /^@\\S{1,}/;\n\n//设置别名路径\nfunction setAlias(alias) {\n    var aliasPath = {};\n    fn.each(alias, function (path, key) {\n        if (ALIAS_PATH.test(key)) {\n            aliasPath[key] = path;\n        }\n    });\n    return aliasPath;\n}\n\n//设置模块路径\nfunction setPaths(paths) {\n    var _this = this;\n\n    if (!fn.isObj(paths)) return;\n    fn.each(paths, function (path, name) {\n        var resPath = resolvePath.call(_this, path);\n        _this.module.installedModules[name] = {\n            isLoaded: false,\n            createScript: function createScript() {\n                _createScript(resPath, name);\n            }\n        };\n    });\n}\n\n//创建script节点\nfunction _createScript(url, name) {\n    var script = document.createElement('script');\n    script.async = true;\n    script.setAttribute('data-demand-model', name ? name : url);\n    script.src = resolveJsExt(url);\n    document.getElementsByTagName('head')[0].appendChild(script);\n}\n\n//路径处理\nexports.createScript = _createScript;\nfunction resolvePath(path) {\n    var resPath = [this.baseUrl],\n        splitResPath = path.split('/');\n\n    fn.each(splitResPath, function (p, index) {\n        switch (p) {\n            case '':\n            case '.':\n                break;\n            case '..':\n                resPath.pop();\n                break;\n            default:\n                resPath.push(p);\n        }\n    });\n    return resPath.join('/');\n}\n\n//处理是否存在js后缀\nfunction resolveJsExt(url) {\n    if (/\\.js/g.test(url)) return url;else return url + '.js';\n}\n\n/***/ }),\n/* 4 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar _demand = __webpack_require__(2);\n\nvar _demand2 = _interopRequireDefault(_demand);\n\nvar _compatibility = __webpack_require__(1);\n\nvar _compatibility2 = _interopRequireDefault(_compatibility);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n//demand文件入口\n(function (global, factory) {\n    global ? global.demand = factory() : {};\n})(typeof window !== 'undefined' ? window : undefined, function () {\n\n    _demand2.default.version = \"v1.0.0\";\n\n    return _demand2.default;\n});\n//兼容性处理\n\n/***/ }),\n/* 5 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/*\r\n    队列 \r\n * */\n\nvar Queue = function () {\n    function Queue() {\n        _classCallCheck(this, Queue);\n\n        this.queue = [];\n    }\n\n    _createClass(Queue, [{\n        key: \"push\",\n        value: function push(fn) {\n            this.queue.push(fn);\n        }\n    }, {\n        key: \"next\",\n        value: function next() {\n            if (this.queue.length != 0) this.queue.shift()();\n        }\n    }]);\n\n    return Queue;\n}();\n\nexports.default = Queue;\n\n/***/ })\n/******/ ]);\n\n\n// WEBPACK FOOTER //\n// js/demand.min.js"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/dist\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 4);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 8641be895065ee29f5ae","//常用方法\r\nexport default class Fn {\r\n    isArr(array) {\r\n        return array instanceof Array || !!(array && array.length);\r\n    }\r\n\r\n    isObj(obj) {\r\n        return obj instanceof Object && !(obj instanceof Array) && obj !== null;\r\n    }\r\n\r\n    isFn(fn) {\r\n        return typeof fn === 'function';\r\n    }\r\n    isStr(string) {\r\n        return typeof string === 'string';\r\n    }\r\n    isNum(num) {\r\n        return typeof num === 'number' || !isNaN(num);\r\n    }\r\n    each(obj, cb) { //遍历\r\n        let i = 0,\r\n            len = obj.length;\r\n        if(this.isArr(obj)) {\r\n            for(; i < len; i++) {\r\n                cb(obj[i], i);\r\n            }\r\n        } else {\r\n            for(i in obj) {\r\n                if(obj.hasOwnProperty(i)) cb(obj[i], i);\r\n            }\r\n        }\r\n    }\r\n    cb(cb, context, args) { //回调\r\n        args = args ? args : [];\r\n        this.isFn(cb) ? (cb.apply(context, args)) : null;\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/demand/fn.js","import Fn from './fn';\r\n\r\nconst fn = new Fn();\r\n\r\n//兼容性IE8\r\n(function() {\r\n\r\n    //兼容IE8中 的indexOf\r\n    if(!fn.isFn(Array.prototype.indexOf)) {\r\n        Array.prototype.indexOf = function(val) {\r\n            let index = 0,\r\n                len = this.length;\r\n            for(; index < len; index++) {\r\n                if(this[index] === val) return index;\r\n            }\r\n            return -1;\r\n        }\r\n    }\r\n\r\n    //map\r\n    if(!fn.isFn(Array.prototype.map)) {\r\n        Array.prototype.map = function(fn) {\r\n            let mapArr = [],\r\n                i = 0,\r\n                len = this.length;\r\n            for(; i < len; i++) {\r\n                mapArr.push(fn(this[i], i));\r\n            }\r\n            return mapArr;\r\n        }\r\n    }\r\n\r\n    //filter\r\n    if(!fn.isFn(Array.prototype.filter)) {\r\n        Array.prototype.filter = function(fn) {\r\n            let mapArr = [],\r\n                i = 0,\r\n                len = this.length;\r\n            for(; i < len; i++) {\r\n                let item = this[i];\r\n                if(fn(item, i)) mapArr.push(item);\r\n            }\r\n            return mapArr;\r\n        }\r\n    }\r\n\r\n})();\n\n\n// WEBPACK FOOTER //\n// ./src/demand/compatibility.js","import Fn from './fn';\r\n\r\nimport {\r\n    setAlias,\r\n    setPaths\r\n} from './set';\r\n\r\nconst fn = new Fn();\r\n\r\nexport default function demand(dep,cb) {\r\n    if(fn.isArr(dep)){\r\n        fn.each(dep,(name,index)=>{\r\n            demand.module.installedModules[name].createScript();\r\n        });\r\n    }\r\n}\r\n\r\n//获取根路径\r\ndemand.origin = (function() {\r\n    return(location.origin || location.protocol + '//' + location.host);\r\n})();\r\n\r\n//配置状态\r\nlet configed = false;\r\n\r\n//配置\r\ndemand.config = (opts) => {\r\n    //不能重新配置模块\r\n    if(configed) {\r\n        console.warn('不能重复配置模块！');\r\n        return;\r\n    }\r\n    //设置源路径\r\n    demand.baseUrl = opts.baseUrl ? opts.baseUrl : demand.origin;\r\n    //配置别名\r\n    demand.alias = fn.isObj(opts.alias) ? setAlias(opts.alias) : {};\r\n    //设置paths\r\n    setPaths.call(demand,opts.paths);\r\n    //单例配置\r\n    configed = true;\r\n};\r\n\r\n//模块存储\r\ndemand.module = {\r\n    installedModules: {},\r\n    use:[]\r\n};\r\n\r\n//加载模块\r\ndemand.define = (id, dep, cb) => {\r\n    //第一个参数为id名字\r\n    if(fn.isStr(id)){\r\n        \r\n    }\r\n};\n\n\n// WEBPACK FOOTER //\n// ./src/demand/demand.js","/*\r\n * set，设置模块方法\r\n * */\r\n\r\nimport Queue from './queue'; \r\n\r\nimport Fn from './fn';\r\n\r\nconst fn = new Fn();\r\n\r\n//alias的规则\r\nconst ALIAS_PATH = /^@\\S{1,}/;\r\n\r\n//设置别名路径\r\nexport function setAlias(alias) {\r\n    const aliasPath = {};\r\n    fn.each(alias, (path, key) => {\r\n        if(ALIAS_PATH.test(key)) {\r\n            aliasPath[key] = path;\r\n        }\r\n    });\r\n    return aliasPath;\r\n}\r\n\r\n//设置模块路径\r\nexport function setPaths(paths) {\r\n    if(!fn.isObj(paths)) return;\r\n    fn.each(paths, (path, name) => {\r\n        const resPath = resolvePath.call(this, path);\r\n        this.module.installedModules[name] = {\r\n            isLoaded: false,\r\n            createScript: function() {\r\n                createScript(resPath, name);\r\n            }\r\n        };\r\n    });\r\n}\r\n\r\n//创建script节点\r\nexport function createScript(url, name) {\r\n    const script = document.createElement('script');\r\n    script.async = true;\r\n    script.setAttribute('data-demand-model', name ? name : url);\r\n    script.src = resolveJsExt(url);\r\n    document.getElementsByTagName('head')[0].appendChild(script);\r\n}\r\n\r\n//路径处理\r\nexport function resolvePath(path) {\r\n    const resPath = [this.baseUrl],\r\n        splitResPath = path.split('/');\r\n\r\n    fn.each(splitResPath, (p, index) => {\r\n        switch(p) {\r\n            case '':\r\n            case '.':\r\n                break;\r\n            case '..':\r\n                resPath.pop();\r\n                break;\r\n            default:\r\n                resPath.push(p);\r\n        }\r\n    });\r\n    return resPath.join('/');\r\n}\r\n\r\n//处理是否存在js后缀\r\nexport function resolveJsExt(url){\r\n    if(/\\.js/g.test(url)) return url;\r\n    else return url + '.js'; \r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/demand/set.js","//demand文件入口\r\nimport demand from './demand/demand.js';\r\n//兼容性处理\r\nimport compatibility from './demand/compatibility';\r\n\r\n(function(global, factory) {\r\n    (global ? (global.demand = factory()) : {});\r\n})(typeof window !== 'undefined' ? window : this, function() {\r\n\r\n    demand.version = \"v1.0.0\";\r\n\r\n    return demand;\r\n});\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/index.js","/*\r\n    队列 \r\n * */\r\n\r\nexport default class Queue {\r\n    constructor() {\r\n        this.queue = [];\r\n    }\r\n    push(fn) {\r\n        this.queue.push(fn);\r\n    }\r\n    next() {\r\n        if(this.queue.length != 0) this.queue.shift()();\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/demand/queue.js"],"sourceRoot":""}