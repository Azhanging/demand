{"version":3,"sources":["webpack:///webpack/bootstrap d436174811504ee41567","webpack:///./src/demand/fn.js","webpack:///./src/demand/module.js","webpack:///./src/demand/path.js","webpack:///./src/demand/init.js","webpack:///./src/demand/queue.js","webpack:///./src/demand/compatibility.js","webpack:///./src/demand/demand.js","webpack:///./src/demand/script.js","webpack:///./src/index.js","webpack:///./src/demand/dep.js","webpack:///./src/demand/use.js"],"names":["Fn","array","Array","obj","Object","fn","string","num","isNaN","cb","i","len","length","isArr","hasOwnProperty","context","args","isFn","apply","hasModule","findModule","setModule","m","path","call","module","pathModule","idModule","urlModule","opts","lastLoader","lastLoadedModule","dep","each","type","findM","id","loadModules","runCreateScript","isDemand","depManage","unshift","resetLastLoadedModule","index","createScript","resolvePath","resolveJsExt","resPath","baseUrl","splitResPath","split","p","pop","push","join","url","test","setPaths","setAlias","ALIAS_PATH","paths","name","demand","urlModules","pathModules","pathConfig","hasCreateScript","isStr","alias","aliasPath","key","Queue","queue","shift","prototype","indexOf","val","map","mapArr","filter","item","_this","use","status","origin","location","protocol","host","config","isObj","define","isCreateScript","script","document","createElement","async","onload","next","error","src","getElementsByTagName","appendChild","global","factory","window","version","buildModuleDep","depData","deps","demandDep","depExport","_export_","useQueue","runUse","cbDeps"],"mappings":"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","file":"js/demand.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/dist\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 8);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap d436174811504ee41567","//常用方法\r\nclass Fn {\r\n    isArr(array) {\r\n        return array instanceof Array;\r\n    }\r\n\r\n    isObj(obj) {\r\n        return obj instanceof Object && !(obj instanceof Array) && obj !== null;\r\n    }\r\n\r\n    isFn(fn) {\r\n        return typeof fn === 'function';\r\n    }\r\n    isStr(string) {\r\n        return typeof string === 'string';\r\n    }\r\n    isNum(num) {\r\n        return typeof num === 'number' || !isNaN(num);\r\n    }\r\n    each(obj, cb) { //遍历\r\n        let i = 0,\r\n            len = obj.length;\r\n        if(this.isArr(obj)) {\r\n            for(; i < len; i++) {\r\n                cb(obj[i], i);\r\n            }\r\n        } else {\r\n            for(i in obj) {\r\n                if(obj.hasOwnProperty(i)) cb(obj[i], i);\r\n            }\r\n        }\r\n    }\r\n    cb(cb, context, args) { //回调\r\n        args = args ? args : [];\r\n        this.isFn(cb) ? (cb.apply(context, args)) : null;\r\n    }\r\n}\r\n\r\nexport default new Fn();\n\n\n// WEBPACK FOOTER //\n// ./src/demand/fn.js","import fn from './fn';\r\n//初始化\r\nimport { setPaths } from './init';\r\n\r\nimport { resolvePath } from './path';\r\n\r\n//查找当前的模块是否在模块中存在\r\nexport function hasModule(m) {\r\n\tconst path = resolvePath.call(this, m),\r\n\t\tmodule = this.module;\r\n\tif(module.pathModule[m] ||\r\n\t\tmodule.idModule[m] ||\r\n\t\tmodule.urlModule[path]\r\n\t) return true;\r\n\treturn false;\r\n}\r\n\r\n//查找对应的模块内容  权重：path > url > id\r\nexport function findModule(m) {\r\n\tconst module = this.module,\r\n\t\tpath = resolvePath.call(this, m);\r\n\tif(module.pathModule[m]) return module.pathModule[m];\r\n\tif(module.urlModule[path]) return module.urlModule[path];\r\n\tif(module.idModule[m]) return module.idModule[m];\r\n\treturn false;\r\n}\r\n\r\n//设置模块的信息\r\nexport function setModule(opts) {\r\n\r\n\tconst lastLoader = this.module.lastLoadedModule,\r\n\t\tdep = lastLoader.dep;\r\n\r\n\t//把最后加载的模块内容加载进去\r\n\tfn.each(lastLoader, (module, type) => {\r\n\t\topts.findM[type] = module;\r\n\t});\r\n\r\n\t//扶弱当前的模块中存在id的名，设置id的模块\r\n\tif(lastLoader.id) {\r\n\t\tthis.module.idModule[lastLoader.id] = opts.findM;\r\n\t}\r\n\r\n\t//查看依赖，设置一下依赖\r\n\tif(dep.length > 0) {\r\n\t\tconst loadModules = setPaths.call(this, dep);\r\n\t\trunCreateScript.call(this, loadModules);\r\n\t}\r\n\r\n\t//设置初始化的状态\r\n\topts.findM.isDemand = false;\r\n\r\n\t//运行模块内容，返回接口\r\n\tthis.module.depManage.unshift({\r\n\t\tmodule: opts.findM,\r\n\t\tdep: dep\r\n\t});\r\n\r\n\t//重设最后的模块\r\n\tresetLastLoadedModule.call(this);\r\n}\r\n\r\n//重设最后的模块\r\nfunction resetLastLoadedModule() {\r\n\tthis.module.lastLoadedModule = {};\r\n}\r\n\r\n//运行插入模块\r\nfunction runCreateScript(loadModules) {\r\n\tfn.each(loadModules, (path, index) => {\r\n\t\tcreateScript.call(this, path);\r\n\t});\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/demand/module.js","import fn from './fn';\r\n\r\n//路径处理\r\nexport function resolvePath(path) {\r\n\tconst resPath = [this.baseUrl],\r\n\t\tsplitResPath = path.split('/');\r\n\r\n\tfn.each(splitResPath, (p, index) => {\r\n\t\tswitch(p) {\r\n\t\t\tcase '':\r\n\t\t\t\tif(index === 0) resPath[index] = '';\r\n\t\t\t\tbreak;\r\n\t\t\tcase '.':\r\n\t\t\t\tbreak;\r\n\t\t\tcase '..':\r\n\t\t\t\tresPath.pop();\r\n\t\t\t\tbreak;\r\n\t\t\tdefault:\r\n\t\t\t\tresPath.push(p);\r\n\t\t}\r\n\t});\r\n\treturn resPath.join('/');\r\n}\r\n\r\n//处理是否存在js后缀\r\nexport function resolveJsExt(url) {\r\n\tif(/\\.js/g.test(url)) return url;\r\n\telse return url + '.js';\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/demand/path.js","import { resolvePath } from './path';\r\n\r\nimport { hasModule } from './module';\r\n\r\nimport { createScript, isCreateScript } from './script';\r\n\r\nimport fn from './fn';\r\n\r\n//alias的规则\r\nconst ALIAS_PATH = /^@\\S{1,}/;\r\n\r\n//设置模块路径\r\nexport function setPaths(paths) {\r\n\r\n\tconst loadModules = [];\r\n\r\n\tfn.each(paths, (path, name) => {\r\n\r\n\t\tconst demand = this,\r\n\t\t\tresPath = resolvePath.call(this, path), //处理完的路径\r\n\t\t\turlModules = this.module.urlModule, //通过url处理的模块\r\n\t\t\tpathModules = this.module.pathModule, //通过config中path的模块\r\n\t\t\tpathConfig = {\r\n\t\t\t\turl: resPath,\r\n\t\t\t\tname: name\r\n\t\t\t};\r\n\r\n\t\t//检查是否存在对应的模块，存在跳过\r\n\t\tif(hasModule.call(this, path)) {\r\n\t\t\tconst hasCreateScript = isCreateScript.call(this, path);\r\n\t\t\t//当前的模块是否被加载script\r\n\t\t\tif(hasCreateScript) {\r\n\t\t\t\thasCreateScript.call(this);\r\n\t\t\t}\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\turlModules[resPath] = {\r\n\t\t\tcreateScript() {\r\n\t\t\t\tcreateScript.call(demand, pathConfig);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t//如果是从paths中配置的路径\r\n\t\tif(fn.isStr(name)) {\r\n\t\t\tpathModules[name] = urlModules[resPath];\r\n\t\t}\r\n\r\n\t\tloadModules.push(pathConfig);\r\n\t});\r\n\r\n\t//返回处理完的模块路径\r\n\treturn loadModules;\r\n}\r\n\r\n//设置别名路径\r\nexport function setAlias(alias) {\r\n\tconst aliasPath = {};\r\n\tfn.each(alias, (path, key) => {\r\n\t\tif(ALIAS_PATH.test(key)) {\r\n\t\t\taliasPath[key] = path;\r\n\t\t}\r\n\t});\r\n\treturn aliasPath;\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/demand/init.js","/*\r\n    队列 \r\n * */\r\n\r\nexport default class Queue {\r\n    constructor(opts) {\r\n        this.queue = [];\r\n    }\r\n    push(fn) {\r\n        this.queue.push(fn);\r\n    }\r\n    next() {\r\n        if(this.queue.length != 0) {\r\n            this.queue.shift();\r\n        }\r\n        \r\n        if(this.queue.length === 0) this.cb();\r\n    }\r\n}\r\n\r\n//创建队列\r\nexport const queue = new Queue();\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/demand/queue.js","import fn from './fn';\r\n\r\n//兼容性IE8\r\n(function() {\r\n\r\n    //兼容IE8中 的indexOf\r\n    if(!fn.isFn(Array.prototype.indexOf)) {\r\n        Array.prototype.indexOf = function(val) {\r\n            let index = 0,\r\n                len = this.length;\r\n            for(; index < len; index++) {\r\n                if(this[index] === val) return index;\r\n            }\r\n            return -1;\r\n        }\r\n    }\r\n\r\n    //map\r\n    if(!fn.isFn(Array.prototype.map)) {\r\n        Array.prototype.map = function(fn) {\r\n            let mapArr = [],\r\n                i = 0,\r\n                len = this.length;\r\n            for(; i < len; i++) {\r\n                mapArr.push(fn(this[i], i));\r\n            }\r\n            return mapArr;\r\n        }\r\n    }\r\n\r\n    //filter\r\n    if(!fn.isFn(Array.prototype.filter)) {\r\n        Array.prototype.filter = function(fn) {\r\n            let mapArr = [],\r\n                i = 0,\r\n                len = this.length;\r\n            for(; i < len; i++) {\r\n                let item = this[i];\r\n                if(fn(item, i)) mapArr.push(item);\r\n            }\r\n            return mapArr;\r\n        }\r\n    }\r\n\r\n})();\n\n\n// WEBPACK FOOTER //\n// ./src/demand/compatibility.js","import { hasModule, findModule } from './module';\r\n\r\nimport { useQueue, checkRunUse, runUse } from './use';\r\n\r\n//初始化\r\nimport { setAlias, setPaths } from './init';\r\n\r\nimport fn from './fn';\r\n\r\nexport default function demand(dep, cb) {\r\n\tconst _this = demand,\r\n\t\tmodule = _this.module;\r\n\t//运行依赖\r\n\tif(fn.isArr(dep)) {\r\n\t\tfn.each(dep, (name, index) => {\r\n\t\t\tif(!hasModule.call(_this, name)) return;\r\n\t\t\tconst findM = findModule.call(_this, name);\r\n\t\t\tfn.cb(findM.createScript, _this);\r\n\t\t});\r\n\r\n\t\t//存储回调，等所有的模块加载完毕后调用\r\n\t\tmodule.use.push({\r\n\t\t\tdep: dep,\r\n\t\t\tcb: cb\r\n\t\t});\r\n\t\tmodule.status ? runUse.call(_this) : null;\r\n\r\n\t} else if(fn.isFn(dep)) {\r\n\t//使用情况全部的\t\r\n\t\tmodule.use.push({\r\n\t\t\tdep: [],\r\n\t\t\tcb: dep\r\n\t\t});\r\n\t\t\r\n\t\tmodule.status ? runUse.call(_this) : null;\r\n\t\t\r\n\t} else if(fn.isStr(dep)) {\r\n\t\t//获取模块\r\n\t\treturn findModule.call(_this, dep)['_export_'];\r\n\t}\r\n}\r\n\r\n//获取根路径\r\ndemand.origin = (function() {\r\n\treturn(location.origin || location.protocol + '//' + location.host);\r\n})();\r\n\r\n//配置\r\ndemand.config = function(opts) {\r\n\t//设置源路径\r\n\tthis.baseUrl = opts.baseUrl ? opts.baseUrl : this.origin;\r\n\t//配置别名\r\n\tthis.alias = fn.isObj(opts.alias) ? setAlias(opts.alias) : {};\r\n\t//设置paths\r\n\tsetPaths.call(this, opts.paths);\r\n\t//设置queue的回调\r\n\tuseQueue.call(this);\r\n\t//存在多个config，重新配置status状态\t\r\n\tthis.module.status = false;\r\n};\r\n\r\n//模块存储\r\ndemand.module = {\r\n\tpathModule: {}, //config中的path模块\r\n\tidModule: {}, //id模块\r\n\turlModule: {}, //url路径的模块\r\n\tuse: [], //use集合\r\n\tlastLoadedModule: {}, //最后获取到的模块\r\n\tdepManage: [], //依赖管理\r\n\tstatus: false //全部的use加载状态\r\n};\r\n\r\n//加载模块\r\ndemand.define = function(id, dep, cb) {\r\n\tconst module = {};\r\n\t//存在id的模块\r\n\tif(fn.isStr(id)) {\r\n\t\tmodule['id'] = id;\r\n\t\tif(fn.isArr(dep)) {\r\n\t\t\tmodule['dep'] = dep;\r\n\t\t\tmodule['_export_'] = cb;\r\n\t\t} else if(fn.isFn(dep)) {\r\n\t\t\tmodule['dep'] = [];\r\n\t\t\tmodule['_export_'] = dep;\r\n\t\t}\r\n\t} else if(fn.isArr(id)) {\r\n\t\tmodule['id'] = null;\r\n\t\tmodule['dep'] = id;\r\n\t\tmodule['_export_'] = dep;\r\n\t} else if(fn.isFn(id)) {\r\n\t\tmodule['id'] = null;\r\n\t\tmodule['dep'] = [];\r\n\t\tmodule['_export_'] = id;\r\n\t} else {\r\n\t\tthrow('error');\r\n\t}\r\n\t//设置到最后一个接\r\n\tthis.module.lastLoadedModule = module;\r\n};\n\n\n// WEBPACK FOOTER //\n// ./src/demand/demand.js","import { findModule, setModule } from './module';\r\n\r\nimport { resolveJsExt } from './path';\r\n\r\nimport { queue } from './queue';\r\n\r\nimport fn from './fn';\r\n\r\n//创建script节点\r\nexport function createScript(opts) {\r\n\tconst script = document.createElement('script');\r\n\t//获取模块\r\n\topts.findM = findModule.call(this, opts.url);\r\n\tscript.async = true;\r\n\r\n\tscript.onload = () => {\r\n\t\tdelete opts.findM.createScript;\r\n\t\tsetModule.call(this, opts);\r\n\t\tqueue.next();\r\n\t};\r\n\r\n\tscript.error = function() {\r\n\t\tthrow('加载模块出错！');\r\n\t};\r\n\r\n\tscript.type = \"text/javascript\";\r\n\r\n\tscript.src = resolveJsExt(opts.url);\r\n\r\n\tqueue.push(false);\r\n\r\n\tdocument.getElementsByTagName('head')[0].appendChild(script);\r\n}\r\n\r\n//检测单前模块script是否加载了\r\nexport function isCreateScript(path) {\r\n\tconst findM = findModule.call(this, path);\r\n\tif(fn.isFn(findM.createScript)) {\r\n\t\treturn findM.createScript;\r\n\t} else {\r\n\t\treturn false;\r\n\t}\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/demand/script.js","//demand文件入口\r\nimport demand from './demand/demand.js';\r\n//兼容性处理\r\nimport compatibility from './demand/compatibility';\r\n\r\n(function(global, factory) {\r\n    (global ? (global.demand = factory()) : {});\r\n})(typeof window !== 'undefined' ? window : this, function() {\r\n\r\n    demand.version = \"v1.0.0\";\r\n\r\n    return demand;\r\n});\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/index.js","import fn from './fn';\r\n\r\nimport { findModule } from './module';\r\n\r\n/*\r\n *\t设置模块内的依赖depData \r\n * \t{\r\n * \t\tdep:[dep1,dep2],\r\n * \t\tmodule:module\r\n * \t}\r\n * */\r\nexport function buildModuleDep(depData) {\r\n\tconst module = depData.module,\r\n\t\tdeps = depData.dep,\r\n\t\tdemandDep = [];\r\n\r\n\tfn.each(deps, (dep) => {\r\n\t\tconst findM = findModule.call(this, dep),\r\n\t\t\tdepExport = findM._export_;\r\n\t\tif(!findM.isDemand) {\r\n\t\t\tfindM._export_ = new depExport();\r\n\t\t\tfindM.isDemand = true;\r\n\t\t}\r\n\t\tdemandDep.push(findM._export_);\r\n\t});\r\n\r\n\tif(!module.isDemand) {\r\n\t\tmodule._export_ = module._export_.apply(this, demandDep);\r\n\t\tmodule.isDemand = true;\r\n\t}\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/demand/dep.js","import { buildModuleDep } from './dep';\r\n\r\nimport { queue } from './queue';\r\n\r\nimport fn from './fn';\r\n\r\n//设置模块的依赖队列和use中的cb\r\nexport function useQueue() {\r\n\tqueue.cb = () => {\r\n\t\tconst module = this.module;\r\n\t\t//设置dep的依赖\r\n\t\twhile(module.depManage.length !== 0) {\r\n\t\t\tconst depData = module.depManage.shift();\r\n\t\t\tbuildModuleDep.call(this, depData);\r\n\t\t}\r\n\t\t//处理use\r\n\t\trunUse.call(this);\r\n\t\t//第一次所有的\r\n\t\tmodule.status = true;\r\n\t}\r\n}\r\n\r\n//运行依赖\r\nexport function runUse() {\r\n\tconst module = this.module,\r\n\t\tcbDeps = [];\r\n\twhile(module.use.length !== 0) {\r\n\t\tconst depData = module.use.shift();\r\n\t\tfn.each(depData.dep, (dep, index) => {\r\n\t\t\tcbDeps.push(this(dep));\r\n\t\t});\r\n\t\tdepData.cb.apply(this, cbDeps);\r\n\t}\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/demand/use.js"],"sourceRoot":""}